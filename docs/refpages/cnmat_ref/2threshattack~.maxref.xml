<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<c74object name="2threshattack~" module="CNMAT-Externs">
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">CNMAT</metadata>
		<metadata name="tag">CNMAT-Externals</metadata>
	</metadatalist>

	<digest>
		Two-threshold attack detector, aka a Schmitt Trigger (http://en.wikipedia.org/wiki/Schmitt_trigger)
	</digest>

	<description>
		An attack is when the left input signal exceeds the "high" threshold value multiplied by the right input signal. After an attack, the left input signal must go below the "low" threshold multiplied by the right input signal before the next attack can occur.<br/><br/>

		The output is a mostly-zero signal with samples with a value of 1 at each instant that an "attack" was detected. The right outlet outputs a list of the current values of the two input signals at the instant of an attack.
	</description>

	<!--DISCUSSION-->
	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="signal">
			<digest>
			</digest>
			<description>
				input signal to process
			</description>
		</inlet>
		<inlet id="1" type="signal">
			<digest>
			</digest>
			<description>
				threshold level scalar
			</description>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="signal">
			<digest>
			</digest>
			<description>
				signal rate attack dection; mostly zeros, and 1 where the attack was detected.
			</description>
		</outlet>
		<outlet id="1" type="list">
			<digest>
			</digest>
			<description>
				a list of two numbers is output when an attack is detected: the sample value followed by the level multiplier supplied by inlet 2.
			</description>
		</outlet>
	</outletlist>

	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="low" optional="1" type="float">
			<digest>
				low threshold value.
			</digest>
			<description>
				low threshold value.
			</description>
		</objarg>
		<objarg name="high" optional="1" type="float">
			<digest>
				low threshold value.
			</digest>
			<description>
				high threshold value.
			</description>
		</objarg>
	</objarglist>

	<!--MESSAGES-->
	<methodlist>
		<method name="low">
			<digest>
				(float) low threshold value.
			</digest>
			<description>
				(float) low threshold value.
			</description>
		</method>
		<method name="high">
			<digest>
				(float) high threshold value.
			</digest>
			<description>
				(float) high threshold value.
			</description>
		</method>
		<method name="tellmeeverything">
			<digest>
				output information about the object state.
			</digest>
			<description>
				output information about the object state.
			</description>
		</method>
		<method name="version">
			<digest>
				Get current version information
			</digest>
			<description>
				Prints the current build version to the Max Window.
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->
	<!--EXAMPLE-->
	<!--SEEALSO-->
	<seealsolist>
		<seealso name=">~" />
		<seealso name="peakamp~" />
		<seealso name="cambio~" />
	</seealsolist>


</c74object>
