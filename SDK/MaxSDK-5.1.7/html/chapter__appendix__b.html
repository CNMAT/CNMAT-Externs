<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<title>Max5 API Reference</title>
		<link href="c74-doxygen.css" rel="stylesheet" type="text/css">
	</head>
	<body>

		<div id="c74header">
			<img src="max5.png" />
			<p>Max 5 API Reference</p>
		</div>

<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="chapter_appendix_b">Appendix: Providing Icons for UI Objects </a></h1><p>If you are writing user interface objects for Max, it is recommended that you provide an icon for your object.</p>
<p>Providing an icon will allow users to create an instance of your class from the object palette, and improve the user's experience in other interactions with Max including the Object Defaults inspector.</p>
<h2><a class="anchor" id="appendix_b_svg">
Object SVG Icon</a></h2>
<p>To see the icons provided by Cycling '74 for objects included in Max, look in the <b>Cycling '74/object-palettes</b> folder installed by Max. You fill find a variety of SVG (scalable vector graphics) files for the objects. The files are named with the same name of the class (as it is defined in your <code>main()</code> function) with which they are associated. You will need to place your svg in this folder for it to be found by Max.</p>
<p><em> SVG files can be edited in a variety of software applications such as InkScape or Adobe Illustrator. You can also export SVG files from OmniGraffle on the Mac, which is how the Max's object icons were created. </em></p>
<h2><a class="anchor" id="appendix_b_icon">
Object Palette Definition</a></h2>
<p>Adding the svg file will make the icon available to Max for use in some ways. To make your icon appear in the new object palette, however, you must create a palette containing your SVG file. If you look in the <b>Cycling '74/object-palettes</b> folder (where you placed your SVG file), you should notice some files with names like "palette1.json", "palette2.json", and "palette3.json". For your object, you should create a new palette file.</p>
<p>For the following example we will assume you have created an object called 'littleuifoo'. For this object we will create a palette called 'littleuifoo-palette.json'. The contents of this file will look like this: </p>
<pre>
{
	"patcher" : 	{
		"rect" : [ 0.000000, 0.000000, 1000.000000, 1000.000000 ],
		"bgcolor" : [ 1.000000, 1.000000, 1.000000, 1.000000 ],
		"bglocked" : 0,
		"defrect" : [ 10.000000, 59.000000, 1176.000000, 668.000000 ],
		"boxes" : [ 			{
				"box" : 				{
					"maxclass" : "fpic",
					"boxalpha" : 1.000000,
					"presentation" : 0,
					"destrect" : [ 0.000000, 0.000000, 0.000000, 0.000000 ],
					"patching_rect" : [ 241.000000, 244.000000, 100.000000, 50.000000 ],
					"autofit" : 0,
					"id" : "obj-1",
					"ignoreclick" : 0,
					"hidden" : 0,
					"fontname" : "Courier",
					"pic" : "littleuifoo.svg",
					"xoffset" : 0.000000,
					"yoffset" : 0.000000,
					"background" : 0,
					"presentation_rect" : [ 0.000000, 0.000000, 0.000000, 0.000000 ],
					"fontsize" : 12.000000,
					"instance_attributes" : 					{
						"palette_category" : [ "Images", "Interface" ],
						"palette_action" : "littleuifoo"
					}</pre><pre>				}</pre><pre>			}
 		],
		"lines" : [  ]
	}
}	
</pre><p>Most of this palette file will be the same for any given object. The astute reader might notice that this is a JSON representation of a <a class="el" href="structt__dictionary.html" title="The dictionary object.">t_dictionary</a> representing a patcher that includes an <b>fpic</b> object. We care about three lines in this dictionary: </p>
<ol>
<li>
The 'pic' attribute of the fpic object determines what image will be displayed in the new-object palette. </li>
<li>
The 'palette_category' instance attribute will determine what categories/tabs your icon will appear under in the new-object palette. </li>
<li>
The 'palette_action' instance attribute will determine what object class is instantiated by when user chooses your icon. </li>
</ol>
</div>
		<div id="c74footer">
			<p>Copyright &copy; 2008, <a href="http://www.cycling74.com/">Cycling '74</a></p>
		</div>
	</body>
</html>
