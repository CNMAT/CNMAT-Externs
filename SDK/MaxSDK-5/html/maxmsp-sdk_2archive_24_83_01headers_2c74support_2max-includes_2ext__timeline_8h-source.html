<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<title>Max5 API Reference</title>
		<link href="c74-doxygen.css" rel="stylesheet" type="text/css">
	</head>
	<body>

		<div id="c74header">
			<img src="max5.png" />
			<p>Max 5 API Reference</p>
		</div>

<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>ext_timeline.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _EXT_TIMELINE_H_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _EXT_TIMELINE_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00006"></a>00006 <span class="preprocessor">#endif</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#if PRAGMA_STRUCT_PACKPUSH</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">    #pragma pack(push, 2)</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#elif PRAGMA_STRUCT_PACK</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">    #pragma pack(2)</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="comment">// structures and functions for timeline externals</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="keyword">enum</span>{
<a name="l00017"></a>00017     TR_IDLE,
<a name="l00018"></a>00018     TR_SELECTED,
<a name="l00019"></a>00019     TR_EDITName,
<a name="l00020"></a>00020     TR_SELECTEvent,
<a name="l00021"></a>00021     TR_EDITEvent,
<a name="l00022"></a>00022     TR_ADDNewEvent,                 <span class="comment">/* transient state */</span>
<a name="l00023"></a>00023     TR_DRAGMoveEvent,               <span class="comment">/* transient state */</span>
<a name="l00024"></a>00024     TR_DRAGSelectEvent,             <span class="comment">/* transient state */</span>
<a name="l00025"></a>00025     TR_STRETCHEvent,                <span class="comment">/* transient state */</span>
<a name="l00026"></a>00026     TR_DORMANT,
<a name="l00027"></a>00027     TR_PLAY
<a name="l00028"></a>00028 };
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#define TR_EDITModes    3           </span><span class="comment">/* track edit states */</span>
<a name="l00031"></a>00031 <span class="preprocessor">#define TRACK_EDIT      0</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#define TRACK_ARRANGE   1</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define TRACK_LOCKED    2</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="keyword">typedef</span> <span class="keyword">struct </span>linkthing {
<a name="l00036"></a>00036     <span class="keyword">struct  </span>tinyobject l_ob;
<a name="l00037"></a>00037     <span class="keywordtype">void</span>    *l_thing;
<a name="l00038"></a>00038     <span class="keywordtype">void</span>    *l_clock;
<a name="l00039"></a>00039     <span class="keywordtype">void</span>    *l_who;
<a name="l00040"></a>00040     <span class="keywordtype">void</span>    *l_arg;
<a name="l00041"></a>00041     <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a>  l_fn;
<a name="l00042"></a>00042     <span class="keyword">struct  </span>linkthing *l_prev;
<a name="l00043"></a>00043     <span class="keyword">struct  </span>linkthing *l_next;
<a name="l00044"></a>00044     <span class="keywordtype">long</span>    l_logical;              <span class="comment">// if time is beyond this value, bang</span>
<a name="l00045"></a>00045     <span class="keywordtype">long</span>    l_start;                <span class="comment">// if time gets to be less than this value, whimper</span>
<a name="l00046"></a>00046     <span class="keyword">struct </span>timeline *l_tl;
<a name="l00047"></a>00047     <span class="keywordtype">short</span>   l_flags;
<a name="l00048"></a>00048 } t_linkthing;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">/* flags for linkthing */</span>
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="preprocessor">#define LINK_FLAG_DIEONSTOP 1</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#define LINK_FLAG_MUSTHAPPEN 2</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#define LINK_FLAG_L_USEMSCLOCK 4</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 <span class="preprocessor">#define L_DIEONSTOP LINK_FLAG_DIEONSTOP</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#define L_MUSTHAPPEN LINK_FLAG_MUSTHAPPEN</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define L_USEMSCLOCK LINK_FLAG_L_USEMSCLOCK</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="keyword">typedef</span> <span class="keyword">struct </span>loopPt {
<a name="l00061"></a>00061     <span class="keywordtype">long</span>    l_begining;             <span class="comment">/* begining mark */</span>
<a name="l00062"></a>00062     <span class="keywordtype">long</span>    l_end;                  <span class="comment">/* end mark */</span>
<a name="l00063"></a>00063     <span class="keywordtype">long</span>    l_repetionCount;        <span class="comment">/* number of repetitions */</span>
<a name="l00064"></a>00064     <span class="keyword">struct  </span>loopPt *l_nextLoop;     <span class="comment">/* next loop structure */</span>
<a name="l00065"></a>00065 } loopPt, *LoopPt, t_looppt;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="keyword">typedef</span> <span class="keyword">struct </span>tlTrack {
<a name="l00068"></a>00068     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a>    tr_ob;
<a name="l00069"></a>00069     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a>    *tr_name;           <span class="comment">/* track name */</span>
<a name="l00070"></a>00070     <span class="keywordtype">long</span>        tr_number;          <span class="comment">/* track number */</span>
<a name="l00071"></a>00071     
<a name="l00072"></a>00072     Boolean     tr_function;        <span class="comment">/* am I a function track? */</span>
<a name="l00073"></a>00073     <span class="keywordtype">long</span>        tr_sample;          <span class="comment">/* what is my sample interval? */</span>
<a name="l00074"></a>00074     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a>    *tr_tag;            <span class="comment">/* data tag */</span>
<a name="l00075"></a>00075     <span class="keywordtype">long</span>        tr_dataMin,tr_dataMax;  <span class="comment">/* for scaling of output data */</span>
<a name="l00076"></a>00076     <span class="keywordtype">float</span>       tr_dataScale;       <span class="comment">/* precomputed scaling factor */</span>
<a name="l00077"></a>00077     <span class="keywordtype">long</span>        tr_outletIndex;     <span class="comment">/* outlet index to retreive later */</span>
<a name="l00078"></a>00078     <span class="keywordtype">void</span>        *tr_outlet;         <span class="comment">/* pointer to timeline outlet */</span>
<a name="l00079"></a>00079                                     <span class="comment">/* outlet is assigned by popup menu on track pane */</span>
<a name="l00080"></a>00080     
<a name="l00081"></a>00081     <span class="keywordtype">short</span>       tr_mode;            <span class="comment">/* track mode */</span>
<a name="l00082"></a>00082     <span class="keywordtype">short</span>       tr_saveMode;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="keywordtype">void</span>        *tr_parent;
<a name="l00085"></a>00085     t_wind      *tr_wind;           <span class="comment">/* window inherited from parent */</span>
<a name="l00086"></a>00086     Boolean     tr_inColor;         <span class="comment">/* are we in color? */</span>
<a name="l00087"></a>00087     Boolean     tr_preview;         <span class="comment">/* preview mode? */</span>
<a name="l00088"></a>00088     Boolean     tr_mute;            <span class="comment">/* are events active in play back? */</span>
<a name="l00089"></a>00089     Boolean     tr_solo;
<a name="l00090"></a>00090     
<a name="l00091"></a>00091     Boolean     tr_spooled;         <span class="comment">/* has a redraw been requested? */</span>
<a name="l00092"></a>00092     Boolean     tr_active;          <span class="comment">/* is this an active track? */</span>
<a name="l00093"></a>00093     Boolean     tr_high;            <span class="comment">/* is it highlighted? */</span>
<a name="l00094"></a>00094     Boolean     tr_visible;
<a name="l00095"></a>00095     Rect        tr_textPane;
<a name="l00096"></a>00096     Rect        tr_nameBox;
<a name="l00097"></a>00097     Rect        tr_numberBox;
<a name="l00098"></a>00098     Rect        tr_actionIconBox;
<a name="l00099"></a>00099     Rect        tr_padlockBox;
<a name="l00100"></a>00100     Rect        tr_editBox;
<a name="l00101"></a>00101     <span class="keywordtype">short</span>       *tr_divider;
<a name="l00102"></a>00102     
<a name="l00103"></a>00103     <span class="keywordtype">long</span>        tr_selStart;        <span class="comment">/* start of selection */</span>
<a name="l00104"></a>00104     <span class="keywordtype">long</span>        tr_selEnd;          <span class="comment">/* end of selection */</span>
<a name="l00105"></a>00105     Rect        tr_selectionBox;    <span class="comment">/* for selecting events */</span>
<a name="l00106"></a>00106     <span class="keywordtype">long</span>        tr_selCount;        <span class="comment">/* count of selected events */</span>
<a name="l00107"></a>00107     RgnHandle   tr_selRgn;          <span class="comment">/* selection region for dragging */</span>
<a name="l00108"></a>00108     Point       tr_selDelta;        <span class="comment">/* how much has region moved since last time? */</span>
<a name="l00109"></a>00109     <span class="keywordtype">long</span>        tr_selBufStartTime; <span class="comment">/* selection buffer start time */</span>
<a name="l00110"></a>00110     
<a name="l00111"></a>00111     <span class="keywordtype">long</span>        tr_downTime;        <span class="comment">/* mouse down time */</span>
<a name="l00112"></a>00112     Point       tr_selDown;         <span class="comment">/* selection point offsets */</span>
<a name="l00113"></a>00113     Point       tr_prevDown;        <span class="comment">/* previous mouse down point */</span>
<a name="l00114"></a>00114     Point       tr_mouseDown;       <span class="comment">/* mouse down point */</span>
<a name="l00115"></a>00115     Boolean     tr_autoScrolling;   <span class="comment">/* am I auto scrolling? */</span>
<a name="l00116"></a>00116     Boolean     tr_nameInited;      <span class="comment">/* has name TERec been initialized */</span>
<a name="l00117"></a>00117     <span class="keywordtype">short</span>       tr_vol;             <span class="comment">/* location of action class */</span>
<a name="l00118"></a>00118     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a>    *tr_actionName;     <span class="comment">/* name of action class */</span>
<a name="l00119"></a>00119     <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a>      tr_actionIcon;      <span class="comment">/* action class icon */</span>
<a name="l00120"></a>00120     <span class="keywordtype">short</span>       tr_actionType;      <span class="comment">/* action type */</span>
<a name="l00121"></a>00121     <span class="keywordtype">void</span>        *tr_messageList;    <span class="comment">/* list of messages track deals with */</span>
<a name="l00122"></a>00122     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a>    *tr_action;         <span class="comment">/* the action class instance */</span>
<a name="l00123"></a>00123     
<a name="l00124"></a>00124     <span class="keywordtype">short</span>       tr_editMode;        <span class="comment">/* current edit mode */</span>
<a name="l00125"></a>00125     Boolean     tr_editable;        <span class="comment">/* edits allowed? */</span>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127     <span class="keywordtype">short</span>       tr_prevOffset;
<a name="l00128"></a>00128     <span class="keywordtype">short</span>       tr_vOffset;         <span class="comment">/* track vertical offset */</span>
<a name="l00129"></a>00129     <span class="keywordtype">short</span>       tr_height;          <span class="comment">/* track height */</span>
<a name="l00130"></a>00130     <span class="keywordtype">short</span>       tr_expandedHeight;  <span class="comment">/* track height when expanded, if collapsed */</span>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="keyword">struct      </span>event *tr_nextEvent;    <span class="comment">/* the next event to play */</span>
<a name="l00133"></a>00133     <span class="keyword">struct      </span>event *tr_event;        <span class="comment">/* events of some sort */</span>
<a name="l00134"></a>00134     <span class="keyword">struct      </span>event *tr_targetEvent;  <span class="comment">/* event that receives keys */</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     <span class="keywordtype">long</span>        *tr_currentTime;
<a name="l00137"></a>00137     <span class="keywordtype">long</span>        tr_oldPix;
<a name="l00138"></a>00138     Boolean     tr_showTimeBar;     <span class="comment">/* turn on and off time bar display */</span>
<a name="l00139"></a>00139     <span class="keywordtype">long</span>        *tr_timeOffset;
<a name="l00140"></a>00140     <span class="keywordtype">long</span>        *tr_displayTime;
<a name="l00141"></a>00141     
<a name="l00142"></a>00142     t_looppt    *tr_loops;          <span class="comment">/* loop points for track */</span>
<a name="l00143"></a>00143     t_looppt    *tr_currentLoop;        <span class="comment">/* which loop are we in the middle of? */</span>
<a name="l00144"></a>00144     
<a name="l00145"></a>00145     <span class="keywordtype">short</span>       tr_updflags;    
<a name="l00146"></a>00146     Boolean     tr_invalid;
<a name="l00147"></a>00147     <span class="keywordtype">long</span>        tr_updStart;        <span class="comment">/* update region */</span>
<a name="l00148"></a>00148     <span class="keywordtype">long</span>        tr_updEnd;
<a name="l00149"></a>00149     Rect        tr_updRect;
<a name="l00150"></a>00150     <span class="keyword">struct </span>event *tr_updateList;    <span class="comment">/* list of events to update */</span>
<a name="l00151"></a>00151 
<a name="l00152"></a>00152     t_linkthing *tr_linkThing;  <span class="comment">/* end event stuff */</span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     TEHandle    tr_teh;             <span class="comment">/* text edit handle */</span>
<a name="l00155"></a>00155     
<a name="l00156"></a>00156     <span class="keywordtype">void</span>        *tr_saveThing;
<a name="l00157"></a>00157     <span class="keyword">struct      </span>tlTrack *tr_upd;    <span class="comment">/* timeline update list */</span>
<a name="l00158"></a>00158     <span class="keyword">struct      </span>tlTrack *tr_next;   <span class="comment">/* pointer to next track (if linked list) */</span>
<a name="l00159"></a>00159     
<a name="l00160"></a>00160     <span class="keywordtype">void</span>        *tr_extraThing;     <span class="comment">/* reserved for later use */</span>
<a name="l00161"></a>00161 } tlTrack, *TLTrack, t_tltrack;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">// used by smallbox</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="keyword">typedef</span> <span class="keyword">struct </span>objsize {
<a name="l00166"></a>00166     Rect o_rect;
<a name="l00167"></a>00167 <span class="preprocessor">#ifdef CAREFUL</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>    <span class="keywordtype">long</span> b_magic;                   <span class="comment">/* magic number                 */</span>
<a name="l00169"></a>00169 <span class="preprocessor">#endif</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>} t_objsize;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment">// the smallbox is used by a timeline event</span>
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="keyword">typedef</span> <span class="keyword">struct </span>smallbox
<a name="l00175"></a>00175 {
<a name="l00176"></a>00176     <span class="keyword">union </span>bx {
<a name="l00177"></a>00177         <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> b_ob;
<a name="l00178"></a>00178         t_objsize b_os;
<a name="l00179"></a>00179     } b_header;
<a name="l00180"></a>00180     <span class="keywordtype">short</span> b_inlet:1;            <span class="comment">/* this box is an inlet */</span>
<a name="l00181"></a>00181     <span class="keywordtype">short</span> b_outlet:1;           <span class="comment">/* this box is an outlet */</span>
<a name="l00182"></a>00182     <span class="keywordtype">short</span> b_textdirty:1;        <span class="comment">/* text has been changed */</span>
<a name="l00183"></a>00183     <span class="keywordtype">short</span> b_drawfirstin:1;  <span class="comment">/* draw inlet for the real object */</span>
<a name="l00184"></a>00184     <span class="keywordtype">short</span> b_outline:1;      <span class="comment">/* draw the box */</span>
<a name="l00185"></a>00185     <span class="keywordtype">short</span> b_drawn:1;            <span class="comment">/* has been drawn */</span>
<a name="l00186"></a>00186     <span class="keywordtype">short</span> b_spooled:1;      <span class="comment">/* is spooled for drawing */</span>
<a name="l00187"></a>00187     <span class="keywordtype">short</span> b_growy:1;            <span class="comment">/* can grow in y direction */</span>
<a name="l00188"></a>00188     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> b_inset:3;   <span class="comment">/* top-and-bottom inset for text */</span>
<a name="l00189"></a>00189     <span class="keywordtype">short</span> b_selected:1;     <span class="comment">/* on if selected */</span>
<a name="l00190"></a>00190     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> b_color:4;   <span class="comment">/* index into palette (default 0) */</span>
<a name="l00191"></a>00191     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> b_fsize; <span class="comment">/* font size */</span>
<a name="l00192"></a>00192     <span class="keywordtype">short</span> b_fontindex;      <span class="comment">/* font index (get from window) */</span>
<a name="l00193"></a>00193     <span class="keywordtype">short</span> b_growboth:1;     <span class="comment">/* can grow independently in both directions */</span>
<a name="l00194"></a>00194     <span class="keywordtype">short</span> b_ignorelockclick:1; <span class="comment">/* ignore clicks if patcher is locked (be "transparent") */</span>
<a name="l00195"></a>00195     <span class="keywordtype">short</span> b_hidden:1;           <span class="comment">/* hide box on lock */</span>
<a name="l00196"></a>00196     <span class="keywordtype">short</span> b_nogrow:1;           <span class="comment">/* don't grow at all */</span>
<a name="l00197"></a>00197     <span class="keywordtype">short</span> b_hilited:1;      <span class="comment">/* hilited, typeable object */</span>
<a name="l00198"></a>00198     <span class="keywordtype">short</span> b_pending:1;      <span class="comment">/* typing is pending */</span>
<a name="l00199"></a>00199     <span class="keywordtype">short</span> b_hiliteable:1;       <span class="comment">/* hiliteable object */</span>
<a name="l00200"></a>00200     <span class="keywordtype">short</span> b_savehilite:1;       <span class="comment">/* save hilite state when window is not active */</span>
<a name="l00201"></a>00201     <span class="keywordtype">short</span> b_saveselect:1;       <span class="comment">/* save select state when window is not active */</span>
<a name="l00202"></a>00202     <span class="keywordtype">short</span> b_undo:2;         <span class="comment">/* undo bit */</span>
<a name="l00203"></a>00203     <span class="keywordtype">short</span>   b_bogus:1;          <span class="comment">/* box's bogus bit--patcher creates its inlets/outlets on connect */</span>
<a name="l00204"></a>00204     <span class="keywordtype">short</span> b_checkinvis:1;       <span class="comment">/* check when invizzing */</span>
<a name="l00205"></a>00205     <span class="keywordtype">short</span> b_visible:1;      <span class="comment">/* for vnewobj patchers, is box visible? */</span>
<a name="l00206"></a>00206     <span class="keywordtype">short</span> b_drawinlast:1;       <span class="comment">/* used by vnewobj, inlet, outlet to draw inlets/outlets */</span>
<a name="l00207"></a>00207     <span class="keywordtype">short</span> b_hasauxdata:1;           <span class="comment">/* has auxiliary box data */</span>
<a name="l00208"></a>00208     <span class="keywordtype">short</span> b_remote:1;           <span class="comment">/* remote box */</span>
<a name="l00209"></a>00209     <span class="keywordtype">short</span> b_ignoreclick:1;  <span class="comment">/* user setting for ignoring a lock click */</span>
<a name="l00210"></a>00210     <span class="keywordtype">short</span> b_background:1;   <span class="comment">// part of background</span>
<a name="l00211"></a>00211     <span class="keywordtype">short</span> b_transparent:1;  <span class="comment">// transparent</span>
<a name="l00212"></a>00212     <span class="keywordtype">short</span> b_unused: 5;      <span class="comment">/* extra space for future bits */</span>
<a name="l00213"></a>00213     <span class="keywordtype">short</span> b_temp;
<a name="l00214"></a>00214 } t_smallbox;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">// timeline event</span>
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="keyword">typedef</span> <span class="keyword">struct </span>event {
<a name="l00220"></a>00220     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> e_obj;
<a name="l00221"></a>00221     <span class="keyword">struct </span>smallbox *e_box; <span class="comment">/* Pointer to Smallbox (or Box) that holds the rectangle */</span>
<a name="l00222"></a>00222     <span class="keyword">struct </span>event *e_upd;    <span class="comment">/* Update list link (used internally for spooling events) */</span>
<a name="l00223"></a>00223     Rect *e_rect;           <span class="comment">/* Pointer to rectangle within e_box */</span>
<a name="l00224"></a>00224     <span class="keyword">struct </span>event *e_next;   <span class="comment">/* Linked list of Events in the Timeline Track */</span>
<a name="l00225"></a>00225     <span class="keyword">struct </span>tlTrack *e_track;    <span class="comment">/* Pointer to owning Track */</span>
<a name="l00226"></a>00226     <span class="keywordtype">void</span> *e_assoc;  <span class="comment">/* List of associated objects (internal use) */</span>
<a name="l00227"></a>00227     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> *e_o;          <span class="comment">/* Pointer to object in unitary receiver case */</span>
<a name="l00228"></a>00228     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *e_label;      <span class="comment">/* Descriptive text for Event locate pop-up menu */</span>
<a name="l00229"></a>00229     <span class="keywordtype">long</span> e_start;           <span class="comment">/* Event start time (in milliseconds) */</span>
<a name="l00230"></a>00230     <span class="keywordtype">long</span> e_duration;        <span class="comment">/* Event duration (in milliseconds) */</span>
<a name="l00231"></a>00231     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *e_dataType;       <span class="comment">/* Data type of the message */</span>
<a name="l00232"></a>00232     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *e_message;        <span class="comment">/* Message selector that is sent */</span>
<a name="l00233"></a>00233     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *e_editor;     <span class="comment">/* Editor name */</span>
<a name="l00234"></a>00234     <span class="keywordtype">void</span> *e_edit;   <span class="comment">/* Internal information about the Editor */</span>
<a name="l00235"></a>00235     <span class="keywordtype">void</span> *e_saveThing;      <span class="comment">/* Internal temporary variable */</span>
<a name="l00236"></a>00236     <span class="keywordtype">void</span> *e_thing;          <span class="comment">/* Internal unused variable */</span>
<a name="l00237"></a>00237     <span class="keywordtype">short</span> e_wantOffset;     <span class="comment">/* If the track containing the editor has been collapsed */</span> 
<a name="l00238"></a>00238     Boolean e_active;       <span class="comment">/* Currently unused */</span>
<a name="l00239"></a>00239     Boolean e_preview;      <span class="comment">/* Should be non-zero, not currently used */</span>
<a name="l00240"></a>00240     Boolean e_constantWidth;    <span class="comment">/* If this flag is non-zero, the Events duration is */</span>
<a name="l00241"></a>00241     Boolean e_editable;     <span class="comment">/* Flag is non-zero if clicking on the Event modifies its */</span>
<a name="l00242"></a>00242     Boolean e_smallbox;     <span class="comment">/* Flag is non-zero if the Event uses the Smallbox data */</span>
<a name="l00243"></a>00243 } event, *Event, t_event;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="preprocessor">#ifndef F_GROWY</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span><span class="preprocessor">#define F_GROWY         2       </span><span class="comment">/* can grow in y direction by dragging */</span>
<a name="l00247"></a>00247 <span class="preprocessor">#define F_GROWBOTH      32      </span><span class="comment">/* can grow independently in both x and y */</span>
<a name="l00248"></a>00248 <span class="preprocessor">#endif</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span><span class="preprocessor">#define F_CONSTANTWIDTH 16      </span><span class="comment">/* constant width */</span>
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="keywordtype">void</span> message_register(<a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *name, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *superClass,
<a name="l00254"></a>00254     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> *theObject, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *objectName, t_tltrack *x);
<a name="l00255"></a>00255     
<a name="l00256"></a>00256 <span class="keywordtype">void</span> editor_register(<a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *dataType, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *name, <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a> newFN,
<a name="l00257"></a>00257     <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a> menuFN, <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a> updateFN);
<a name="l00258"></a>00258 <span class="keywordtype">void</span> event_new(t_event *e, t_tltrack *track, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *dataType, 
<a name="l00259"></a>00259     <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *message, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *editor, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *label,
<a name="l00260"></a>00260     <span class="keywordtype">long</span> start, <span class="keywordtype">long</span> duration, <span class="keywordtype">long</span> flags, <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_box</a> *box);
<a name="l00261"></a>00261 <span class="keywordtype">void</span> event_box(t_event *e, <span class="keywordtype">short</span> top, <span class="keywordtype">short</span> bottom);
<a name="l00262"></a>00262 <span class="keywordtype">void</span> message_patcherRegister(<a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *name, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *superClass,
<a name="l00263"></a>00263     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> *theObject, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *objectName, <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_patcher</a> *p);
<a name="l00264"></a>00264 <span class="keywordtype">void</span> message_unregister(<a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *name, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *superClass,
<a name="l00265"></a>00265     <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> *theObject, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *objectName, t_tltrack *x);
<a name="l00266"></a>00266 <span class="keywordtype">void</span> message_patcherUnregister(<a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *name, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *superClass,
<a name="l00267"></a>00267     <span class="keyword">struct</span> <span class="keywordtype">object</span> *theObject, <a class="code" href="structt__symbol.html" title="The symbol.">t_symbol</a> *objectName, <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_patcher</a> *p);
<a name="l00268"></a>00268 <span class="keywordtype">void</span> event_spool(t_event *e);
<a name="l00269"></a>00269 <span class="keywordtype">void</span> event_schedule(t_event *e, <a class="code" href="group__datatypes.html#gc26ba0a173b50597f5738132e059b42d" title="Function pointer type for generic methods.">method</a> fn, <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_object</a> *dest, <span class="keywordtype">void</span> *arg,
<a name="l00270"></a>00270     <span class="keywordtype">long</span> delay, <span class="keywordtype">long</span> flags);
<a name="l00271"></a>00271 <span class="keywordtype">void</span> track_clipBegin(t_tltrack *x, Rect *r);
<a name="l00272"></a>00272 <span class="keywordtype">void</span> track_clipEnd(t_tltrack *x);
<a name="l00273"></a>00273 <span class="keywordtype">short</span> event_offsetRect(t_event *e);
<a name="l00274"></a>00274 <span class="keywordtype">void</span> track_eraseDragTime(t_tltrack *x);
<a name="l00275"></a>00275 <span class="keywordtype">void</span> track_drawDragParam(t_tltrack *x, <span class="keywordtype">char</span> *buf);
<a name="l00276"></a>00276 <span class="keywordtype">void</span> track_drawDragTime(t_tltrack *x, <span class="keywordtype">long</span> top, <span class="keywordtype">long</span> bottom);
<a name="l00277"></a>00277 <span class="keywordtype">void</span> track_drawTime(t_tltrack *x, <span class="keywordtype">long</span> time);
<a name="l00278"></a>00278 <span class="keywordtype">long</span> track_pixToMS(t_tltrack *x, <span class="keywordtype">short</span> pix);
<a name="l00279"></a>00279 <span class="keywordtype">short</span> track_MSToPix(t_tltrack *x, <span class="keywordtype">long</span> time);
<a name="l00280"></a>00280 <span class="keywordtype">long</span> track_posToMS(t_tltrack *x, <span class="keywordtype">short</span> pos);
<a name="l00281"></a>00281 <span class="keywordtype">short</span> track_MSToPos(t_tltrack *x, <span class="keywordtype">long</span> time);
<a name="l00282"></a>00282 GrafPtr track_setport(t_tltrack *x);
<a name="l00283"></a>00283 <span class="keywordtype">void</span> *event_clock(t_event *e);
<a name="l00284"></a>00284 <a class="code" href="structt__object.html" title="The structure for the head of any object which wants to have inlets or outlets, or...">t_patcher</a> *event_avoidRect(t_event *e, <span class="keywordtype">short</span> <span class="keywordtype">id</span>);
<a name="l00285"></a>00285 <span class="keywordtype">void</span> event_save(t_event *e, <a class="code" href="structt__atom.html" title="An atom is a typed datum.">t_atom</a> *a);
<a name="l00286"></a>00286 <span class="keywordtype">void</span> event_process(<span class="keywordtype">void</span> *e, t_wind *w);
<a name="l00287"></a>00287 <span class="keywordtype">void</span> event_run(<span class="keywordtype">void</span>);
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="preprocessor">#if PRAGMA_STRUCT_PACKPUSH</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span><span class="preprocessor">    #pragma pack(pop)</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span><span class="preprocessor">#elif PRAGMA_STRUCT_PACK</span>
<a name="l00293"></a>00293 <span class="preprocessor"></span><span class="preprocessor">    #pragma pack()</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span>
<a name="l00296"></a>00296 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span>}
<a name="l00298"></a>00298 <span class="preprocessor">#endif</span>
<a name="l00299"></a>00299 <span class="preprocessor"></span>
<a name="l00300"></a>00300 <span class="preprocessor">#endif // _EXT_TIMELINE_H_</span>
</pre></div></div>
		<div id="c74footer">
			<p>Copyright &copy; 2008, <a href="http://www.cycling74.com/">Cycling '74</a></p>
		</div>
	</body>
</html>
