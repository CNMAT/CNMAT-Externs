<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<title>Max5 API Reference</title>
		<link href="c74-doxygen.css" rel="stylesheet" type="text/css">
	</head>
	<body>

		<div id="c74header">
			<img src="max5.png" />
			<p>Max 5 API Reference</p>
		</div>

<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>pattr-api-doxygen.c</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?xml version=<span class="stringliteral">"1.0"</span> encoding=<span class="stringliteral">"UTF-8"</span>?&gt;
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 &lt;category&gt;
<a name="l00004"></a>00004 &lt;cattitle&gt;Class Functions&lt;/cattitle&gt;
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">// function: class_new</span><span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">/**</span>
<a name="l00008"></a>00008 <span class="comment"> * Initializes a class by informing Max of its name, instance creation and free functions, size and argument types.  Developers wishing to use obex class features (attributes, etc.) &lt;em&gt;must&lt;/em&gt;  use &lt;tt&gt;class_new&lt;/tt&gt; instead of the traditional &lt;tt&gt;setup&lt;/tt&gt; function.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * @param   name    The class's name, as a C-string</span>
<a name="l00011"></a>00011 <span class="comment"> * @param   mnew    The instance creation function</span>
<a name="l00012"></a>00012 <span class="comment"> * @param   mfree   The instance free function</span>
<a name="l00013"></a>00013 <span class="comment"> * @param   size    The size of the object's data structure in bytes. Usually </span>
<a name="l00014"></a>00014 <span class="comment"> *                  you use the C sizeof operator here.</span>
<a name="l00015"></a>00015 <span class="comment"> * @param   mmenu   The function called when the user creates a new object of the  </span>
<a name="l00016"></a>00016 <span class="comment"> *                  class from the Patch window's palette (UI objects only).  </span>
<a name="l00017"></a>00017 <span class="comment"> *                  Pass 0L if you're not defining a UI object.</span>
<a name="l00018"></a>00018 <span class="comment"> * @param   type    A standard Max &lt;em&gt;type list&lt;/em&gt; as explained in Chapter 3  </span>
<a name="l00019"></a>00019 <span class="comment"> *                  of the Writing Externals in Max document (in the Max SDK).  </span>
<a name="l00020"></a>00020 <span class="comment"> *                  The final argument of the type list should be a 0.  </span>
<a name="l00021"></a>00021 <span class="comment"> *                  &lt;em&gt;Generally, obex objects have a single type argument&lt;/em&gt;,  </span>
<a name="l00022"></a>00022 <span class="comment"> *                  &lt;tt&gt;A_GIMME&lt;/tt&gt;, followed by a 0.</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * @return  This function returns the class pointer for the new object class. </span>
<a name="l00025"></a>00025 <span class="comment"> *          &lt;em&gt;This pointer is used by numerous other functions and should be </span>
<a name="l00026"></a>00026 <span class="comment"> *          stored in a global variable.&lt;/em&gt;</span>
<a name="l00027"></a>00027 <span class="comment"> *</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="comment">// function: class_free</span><span class="comment"></span>
<a name="l00031"></a>00031 <span class="comment">/**</span>
<a name="l00032"></a>00032 <span class="comment"> * Frees a previously defined object class. &lt;em&gt;This function is not typically used by external developers.&lt;/em&gt;</span>
<a name="l00033"></a>00033 <span class="comment"> *</span>
<a name="l00034"></a>00034 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00037"></a>00037 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00038"></a>00038 <span class="comment"> *</span>
<a name="l00039"></a>00039 <span class="comment"> */</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">// function: class_register</span><span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">/**</span>
<a name="l00043"></a>00043 <span class="comment"> * Registers a previously defined object class. This function is required, and should be called at the end of &lt;tt&gt;main()&lt;/tt&gt;.</span>
<a name="l00044"></a>00044 <span class="comment"> *</span>
<a name="l00045"></a>00045 <span class="comment"> * @param   name_space  The desired class's name space. Typically, either the </span>
<a name="l00046"></a>00046 <span class="comment"> *                      constant &lt;tt&gt;CLASS_BOX&lt;/tt&gt;, for obex classes which can </span>
<a name="l00047"></a>00047 <span class="comment"> *                      instantiate inside of a Max patcher (e.g. boxes, UI objects, </span>
<a name="l00048"></a>00048 <span class="comment"> *                      etc.), or the constant &lt;tt&gt;CLASS_NOBOX&lt;/tt&gt;, for classes </span>
<a name="l00049"></a>00049 <span class="comment"> *                      which will only be used internally. Developers can define </span>
<a name="l00050"></a>00050 <span class="comment"> *                      their own name spaces as well, but this functionality is </span>
<a name="l00051"></a>00051 <span class="comment"> *                      currently undocumented.</span>
<a name="l00052"></a>00052 <span class="comment"> * @param   c           The class pointer</span>
<a name="l00053"></a>00053 <span class="comment"> *</span>
<a name="l00054"></a>00054 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00055"></a>00055 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00056"></a>00056 <span class="comment"> *</span>
<a name="l00057"></a>00057 <span class="comment"> */</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">// function: class_addmethod</span><span class="comment"></span>
<a name="l00060"></a>00060 <span class="comment">/**</span>
<a name="l00061"></a>00061 <span class="comment"> * Adds a method to a previously defined object class. </span>
<a name="l00062"></a>00062 <span class="comment"> *</span>
<a name="l00063"></a>00063 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00064"></a>00064 <span class="comment"> * @param   m       Function to be called when the method is invoked</span>
<a name="l00065"></a>00065 <span class="comment"> * @param   name    C-string defining the message (message selector)</span>
<a name="l00066"></a>00066 <span class="comment"> * @param   ...     One or more integers specifying the arguments to the message, </span>
<a name="l00067"></a>00067 <span class="comment"> *                  in the standard Max type list format (see Chapter 3 of the </span>
<a name="l00068"></a>00068 <span class="comment"> *                  Writing Externals in Max document for more information).</span>
<a name="l00069"></a>00069 <span class="comment"> *</span>
<a name="l00070"></a>00070 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00071"></a>00071 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00072"></a>00072 <span class="comment"> *</span>
<a name="l00073"></a>00073 <span class="comment"> * @remark  The &lt;tt&gt;class_addmethod&lt;/tt&gt; function works essentially like the </span>
<a name="l00074"></a>00074 <span class="comment"> *          traditional &lt;tt&gt;addmess&lt;/tt&gt; function, adding the function pointed to  </span>
<a name="l00075"></a>00075 <span class="comment"> *          by &lt;tt&gt;m&lt;/tt&gt;, to respond to the message string &lt;tt&gt;name&lt;/tt&gt; in the   </span>
<a name="l00076"></a>00076 <span class="comment"> *          leftmost inlet of the object. </span>
<a name="l00077"></a>00077 <span class="comment"> *</span>
<a name="l00078"></a>00078 <span class="comment"> */</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">// function: class_addattr</span><span class="comment"></span>
<a name="l00081"></a>00081 <span class="comment">/**</span>
<a name="l00082"></a>00082 <span class="comment"> * Adds an attribute to a previously defined object class. </span>
<a name="l00083"></a>00083 <span class="comment"> *</span>
<a name="l00084"></a>00084 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00085"></a>00085 <span class="comment"> * @param   attr    The attribute to add. The attribute will be a pointer returned </span>
<a name="l00086"></a>00086 <span class="comment"> *                  by &lt;tt&gt;attribute_new&lt;/tt&gt;, &lt;tt&gt;attr_offset_new&lt;/tt&gt; or </span>
<a name="l00087"></a>00087 <span class="comment"> *                  &lt;tt&gt;attr_offset_array_new&lt;/tt&gt;.</span>
<a name="l00088"></a>00088 <span class="comment"> *</span>
<a name="l00089"></a>00089 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00090"></a>00090 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00091"></a>00091 <span class="comment"> *</span>
<a name="l00092"></a>00092 <span class="comment"> */</span>
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">// function: class_addadornment</span><span class="comment"></span>
<a name="l00095"></a>00095 <span class="comment">/**</span>
<a name="l00096"></a>00096 <span class="comment"> * Adds an adornment to a previously defined object class. At this time, this function is non-functional and undocumented.</span>
<a name="l00097"></a>00097 <span class="comment"> *</span>
<a name="l00098"></a>00098 <span class="comment"> * @param   c       Undocumented</span>
<a name="l00099"></a>00099 <span class="comment"> * @param   o       Undocumented</span>
<a name="l00100"></a>00100 <span class="comment"> *</span>
<a name="l00101"></a>00101 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00102"></a>00102 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00103"></a>00103 <span class="comment"> *</span>
<a name="l00104"></a>00104 <span class="comment"> */</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="comment">// function: class_obexoffset_set</span><span class="comment"></span>
<a name="l00107"></a>00107 <span class="comment">/**</span>
<a name="l00108"></a>00108 <span class="comment"> * Registers the byte-offset of the obex member of the class's data structure with the previously defined object class. Use of this function is required for obex-class objects. It must be called from &lt;tt&gt;main()&lt;/tt&gt;.</span>
<a name="l00109"></a>00109 <span class="comment"> *</span>
<a name="l00110"></a>00110 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00111"></a>00111 <span class="comment"> * @param   offset  The byte-offset to the obex member of the object's data structure. </span>
<a name="l00112"></a>00112 <span class="comment"> *                  Conventionally, the macro &lt;tt&gt;calcoffset&lt;/tt&gt; is used to calculate the offset.</span>
<a name="l00113"></a>00113 <span class="comment"> *</span>
<a name="l00114"></a>00114 <span class="comment"> */</span>
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">// function: class_obexoffset_get</span><span class="comment"></span>
<a name="l00117"></a>00117 <span class="comment">/**</span>
<a name="l00118"></a>00118 <span class="comment"> * Retrieves the byte-offset of the obex member of the class's data structure.</span>
<a name="l00119"></a>00119 <span class="comment"> *</span>
<a name="l00120"></a>00120 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00121"></a>00121 <span class="comment"> *</span>
<a name="l00122"></a>00122 <span class="comment"> * @return  This function returns the byte-offset of the obex member of the class's data structure.</span>
<a name="l00123"></a>00123 <span class="comment"> *</span>
<a name="l00124"></a>00124 <span class="comment"> */</span>
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">// function: class_name_get</span><span class="comment"></span>
<a name="l00127"></a>00127 <span class="comment">/**</span>
<a name="l00128"></a>00128 <span class="comment"> * Retrieves the name of a class, given the class's pointer.</span>
<a name="l00129"></a>00129 <span class="comment"> *</span>
<a name="l00130"></a>00130 <span class="comment"> * @param   c       The class pointer</span>
<a name="l00131"></a>00131 <span class="comment"> *</span>
<a name="l00132"></a>00132 <span class="comment"> * @return  If successful, this function returns the name of the class as a t_symbol *. </span>
<a name="l00133"></a>00133 <span class="comment"> *</span>
<a name="l00134"></a>00134 <span class="comment"> */</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="comment">// function: class_findbyname</span><span class="comment"></span>
<a name="l00137"></a>00137 <span class="comment">/**</span>
<a name="l00138"></a>00138 <span class="comment"> * Finds the class pointer for a class, given the class's namespace and name.</span>
<a name="l00139"></a>00139 <span class="comment"> *</span>
<a name="l00140"></a>00140 <span class="comment"> * @param   name_space  The desired class's name space. Typically, either the </span>
<a name="l00141"></a>00141 <span class="comment"> *                      constant &lt;tt&gt;CLASS_BOX&lt;/tt&gt;, for obex classes which can </span>
<a name="l00142"></a>00142 <span class="comment"> *                      instantiate inside of a Max patcher (e.g. boxes, UI objects, </span>
<a name="l00143"></a>00143 <span class="comment"> *                      etc.), or the constant &lt;tt&gt;CLASS_NOBOX&lt;/tt&gt;, for classes </span>
<a name="l00144"></a>00144 <span class="comment"> *                      which will only be used internally. Developers can define </span>
<a name="l00145"></a>00145 <span class="comment"> *                      their own name spaces as well, but this functionality is </span>
<a name="l00146"></a>00146 <span class="comment"> *                      currently undocumented.</span>
<a name="l00147"></a>00147 <span class="comment"> * @param   classname   The name of the class to be looked up</span>
<a name="l00148"></a>00148 <span class="comment"> *</span>
<a name="l00149"></a>00149 <span class="comment"> * @return  If successful, this function returns the class's data pointer. Otherwise, it returns NULL.</span>
<a name="l00150"></a>00150 <span class="comment"> *</span>
<a name="l00151"></a>00151 <span class="comment"> */</span>
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="comment">// function: calcoffset</span><span class="comment"></span>
<a name="l00154"></a>00154 <span class="comment">/**</span>
<a name="l00155"></a>00155 <span class="comment"> * The macro &lt;tt&gt;calcoffset&lt;/tt&gt; is used as follows:</span>
<a name="l00156"></a>00156 <span class="comment"> *</span>
<a name="l00157"></a>00157 <span class="comment"> * @param   classtype   The class's defined type (e.g. &lt;tt&gt;t_myobject&lt;/tt&gt;)</span>
<a name="l00158"></a>00158 <span class="comment"> * @param   varname     The name of a variable in the class's data structure.</span>
<a name="l00159"></a>00159 <span class="comment"> *</span>
<a name="l00160"></a>00160 <span class="comment"> * @return  The macro returns the byte-offset of the specified variable within </span>
<a name="l00161"></a>00161 <span class="comment"> *          the class data structure for the specified class type.</span>
<a name="l00162"></a>00162 <span class="comment"> *</span>
<a name="l00163"></a>00163 <span class="comment"> */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 &lt;/category&gt;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 &lt;category&gt;
<a name="l00168"></a>00168 &lt;cattitle&gt;Object Functions: instantiation and freeing&lt;/cattitle&gt;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 <span class="comment">// function: object_alloc</span><span class="comment"></span>
<a name="l00171"></a>00171 <span class="comment">/**</span>
<a name="l00172"></a>00172 <span class="comment"> * Allocates the memory for an instance of an object class and initialize its object header. It is used like the traditional function &lt;tt&gt;newobject&lt;/tt&gt;, inside of an object's &lt;tt&gt;new&lt;/tt&gt; method, but its use is required with obex-class objects.</span>
<a name="l00173"></a>00173 <span class="comment"> *</span>
<a name="l00174"></a>00174 <span class="comment"> * @param   c       The class pointer, returned by &lt;tt&gt;class_new&lt;/tt&gt;</span>
<a name="l00175"></a>00175 <span class="comment"> *</span>
<a name="l00176"></a>00176 <span class="comment"> * @return  This function returns a new instance of an object class if successful, or NULL if unsuccessful.</span>
<a name="l00177"></a>00177 <span class="comment"> *</span>
<a name="l00178"></a>00178 <span class="comment"> */</span>
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">// function: object_new</span><span class="comment"></span>
<a name="l00181"></a>00181 <span class="comment">/**</span>
<a name="l00182"></a>00182 <span class="comment"> * Allocates the memory for an instance of an object class and initialize its object header &lt;em&gt;internal to Max&lt;/em&gt;. It is used similarly to the traditional function &lt;tt&gt;newinstance&lt;/tt&gt;, but its use is required with obex-class objects.</span>
<a name="l00183"></a>00183 <span class="comment"> *</span>
<a name="l00184"></a>00184 <span class="comment"> * @param   name_space  The desired object's name space. Typically, either the </span>
<a name="l00185"></a>00185 <span class="comment"> *                      constant &lt;tt&gt;CLASS_BOX&lt;/tt&gt;, for obex classes which can </span>
<a name="l00186"></a>00186 <span class="comment"> *                      instantiate inside of a Max patcher (e.g. boxes, UI objects, </span>
<a name="l00187"></a>00187 <span class="comment"> *                      etc.), or the constant &lt;tt&gt;CLASS_NOBOX&lt;/tt&gt;, for classes </span>
<a name="l00188"></a>00188 <span class="comment"> *                      which will only be used internally. Developers can define </span>
<a name="l00189"></a>00189 <span class="comment"> *                      their own name spaces as well, but this functionality is </span>
<a name="l00190"></a>00190 <span class="comment"> *                      currently undocumented.</span>
<a name="l00191"></a>00191 <span class="comment"> * @param   classname   The name of the class of the object to be created</span>
<a name="l00192"></a>00192 <span class="comment"> * @param   ...         Any arguments expected by the object class being instantiated</span>
<a name="l00193"></a>00193 <span class="comment"> *</span>
<a name="l00194"></a>00194 <span class="comment"> * @return  This function returns a new instance of the object class if successful, or NULL if unsuccessful.</span>
<a name="l00195"></a>00195 <span class="comment"> *</span>
<a name="l00196"></a>00196 <span class="comment"> */</span>
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">// function: object_new_typed</span><span class="comment"></span>
<a name="l00199"></a>00199 <span class="comment">/**</span>
<a name="l00200"></a>00200 <span class="comment"> * Allocates the memory for an instance of an object class and initialize its object header &lt;em&gt;internal to Max&lt;/em&gt;. It is used similarly to the traditional function &lt;tt&gt;newinstance&lt;/tt&gt;, but its use is required with obex-class objects. The &lt;tt&gt;object_new_typed&lt;/tt&gt; function differs from &lt;tt&gt;object_new&lt;/tt&gt; by its use of an atom list for object argumentsâ€”in this way, it more resembles the effect of typing something into an object box from the Max interface.</span>
<a name="l00201"></a>00201 <span class="comment"> *</span>
<a name="l00202"></a>00202 <span class="comment"> * @param   name_space  The desired object's name space. Typically, either the </span>
<a name="l00203"></a>00203 <span class="comment"> *                      constant &lt;tt&gt;CLASS_BOX&lt;/tt&gt;, for obex classes which can </span>
<a name="l00204"></a>00204 <span class="comment"> *                      instantiate inside of a Max patcher (e.g. boxes, UI objects, </span>
<a name="l00205"></a>00205 <span class="comment"> *                      etc.), or the constant &lt;tt&gt;CLASS_NOBOX&lt;/tt&gt;, for classes </span>
<a name="l00206"></a>00206 <span class="comment"> *                      which will only be used internally. Developers can define </span>
<a name="l00207"></a>00207 <span class="comment"> *                      their own name spaces as well, but this functionality is </span>
<a name="l00208"></a>00208 <span class="comment"> *                      currently undocumented.</span>
<a name="l00209"></a>00209 <span class="comment"> * @param   classname   The name of the class of the object to be created</span>
<a name="l00210"></a>00210 <span class="comment"> * @param   ac          Count of arguments in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l00211"></a>00211 <span class="comment"> * @param   av          Array of t_atoms; arguments to the class's instance creation function.</span>
<a name="l00212"></a>00212 <span class="comment"> *</span>
<a name="l00213"></a>00213 <span class="comment"> * @return  This function returns a new instance of the object class if successful, or NULL if unsuccessful.</span>
<a name="l00214"></a>00214 <span class="comment"> *</span>
<a name="l00215"></a>00215 <span class="comment"> */</span>
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">// function: object_free</span><span class="comment"></span>
<a name="l00218"></a>00218 <span class="comment">/**</span>
<a name="l00219"></a>00219 <span class="comment"> * Call the free function and release the memory for an instance of an internal object class previously instantiated using &lt;tt&gt;object_new&lt;/tt&gt;, &lt;tt&gt;object_new_typed&lt;/tt&gt; or other new-style object constructor functions (e.g. &lt;tt&gt;hashtab_new&lt;/tt&gt;). It is, at the time of this writing, a wrapper for the traditional function &lt;tt&gt;freeobject&lt;/tt&gt;, but its use is suggested with obex-class objects.</span>
<a name="l00220"></a>00220 <span class="comment"> *</span>
<a name="l00221"></a>00221 <span class="comment"> * @param   x       The pointer to the object to be freed. </span>
<a name="l00222"></a>00222 <span class="comment"> *</span>
<a name="l00223"></a>00223 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00224"></a>00224 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00225"></a>00225 <span class="comment"> *</span>
<a name="l00226"></a>00226 <span class="comment"> */</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 &lt;/category&gt;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 &lt;category&gt;
<a name="l00231"></a>00231 &lt;cattitle&gt;Object Functions: sending messages&lt;/cattitle&gt;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="comment">// function: object_method</span><span class="comment"></span>
<a name="l00234"></a>00234 <span class="comment">/**</span>
<a name="l00235"></a>00235 <span class="comment"> * Sends an untyped message to an object. </span>
<a name="l00236"></a>00236 <span class="comment"> *</span>
<a name="l00237"></a>00237 <span class="comment"> * @param   x       The object that will receive the message </span>
<a name="l00238"></a>00238 <span class="comment"> * @param   s       The message selector</span>
<a name="l00239"></a>00239 <span class="comment"> * @param   ...     Any arguments to the message</span>
<a name="l00240"></a>00240 <span class="comment"> *</span>
<a name="l00241"></a>00241 <span class="comment"> * @return  If the receiver object can respond to the message, &lt;tt&gt;object_method&lt;/tt&gt; returns the result. Otherwise, the function will return 0. </span>
<a name="l00242"></a>00242 <span class="comment"> *</span>
<a name="l00243"></a>00243 <span class="comment"> * @remark  Example: To send the message &lt;tt&gt;bang&lt;/tt&gt; to the object &lt;tt&gt;bang_me&lt;/tt&gt;:</span>
<a name="l00244"></a>00244 <span class="comment">@code</span>
<a name="l00245"></a>00245 <span class="comment">void *bang_result;</span>
<a name="l00246"></a>00246 <span class="comment">bang_result = object_method(bang_me, gensym("bang"));&lt;/proto&gt;</span>
<a name="l00247"></a>00247 <span class="comment">@endcode</span>
<a name="l00248"></a>00248 <span class="comment"> *</span>
<a name="l00249"></a>00249 <span class="comment"> */</span>
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 <span class="comment">// function: object_method_typed</span><span class="comment"></span>
<a name="l00252"></a>00252 <span class="comment">/**</span>
<a name="l00253"></a>00253 <span class="comment"> * Sends a type-checked message to an object. </span>
<a name="l00254"></a>00254 <span class="comment"> *</span>
<a name="l00255"></a>00255 <span class="comment"> * @param   x       The object that will receive the message </span>
<a name="l00256"></a>00256 <span class="comment"> * @param   s       The message selector</span>
<a name="l00257"></a>00257 <span class="comment"> * @param   ac      Count of message arguments in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l00258"></a>00258 <span class="comment"> * @param   av      Array of t_atoms; the message arguments</span>
<a name="l00259"></a>00259 <span class="comment"> * @param   rv      Return value of function, if available</span>
<a name="l00260"></a>00260 <span class="comment"> *</span>
<a name="l00261"></a>00261 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00262"></a>00262 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00263"></a>00263 <span class="comment"> *</span>
<a name="l00264"></a>00264 <span class="comment"> * @remark  If the receiver object can respond to the message, &lt;tt&gt;object_method_typed&lt;/tt&gt; returns the result in &lt;tt&gt;rv&lt;/tt&gt;. Otherwise, &lt;tt&gt;rv&lt;/tt&gt; will contain an &lt;tt&gt;A_NOTHING&lt;/tt&gt; atom.</span>
<a name="l00265"></a>00265 <span class="comment"> *</span>
<a name="l00266"></a>00266 <span class="comment"> */</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 <span class="comment">// function: object_method_typedfun</span><span class="comment"></span>
<a name="l00269"></a>00269 <span class="comment">/**</span>
<a name="l00270"></a>00270 <span class="comment"> * Currently undocumented. </span>
<a name="l00271"></a>00271 <span class="comment"> *</span>
<a name="l00272"></a>00272 <span class="comment"> * @param   x       The object that will receive the message </span>
<a name="l00273"></a>00273 <span class="comment"> * @param   mp      Undocumented</span>
<a name="l00274"></a>00274 <span class="comment"> * @param   s       The message selector</span>
<a name="l00275"></a>00275 <span class="comment"> * @param   ac      Count of message arguments in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l00276"></a>00276 <span class="comment"> * @param   av      Array of t_atoms; the message arguments</span>
<a name="l00277"></a>00277 <span class="comment"> * @param   rv      Return value of function, if available</span>
<a name="l00278"></a>00278 <span class="comment"> *</span>
<a name="l00279"></a>00279 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00280"></a>00280 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00281"></a>00281 <span class="comment"> *</span>
<a name="l00282"></a>00282 <span class="comment"> * @remark  If the receiver object can respond to the message, &lt;tt&gt;object_method_typedfun&lt;/tt&gt; returns the result in &lt;tt&gt;rv&lt;/tt&gt;. Otherwise, &lt;tt&gt;rv&lt;/tt&gt; will contain an &lt;tt&gt;A_NOTHING&lt;/tt&gt; atom.</span>
<a name="l00283"></a>00283 <span class="comment"> *</span>
<a name="l00284"></a>00284 <span class="comment"> */</span>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 <span class="comment">// function: object_getmethod</span><span class="comment"></span>
<a name="l00287"></a>00287 <span class="comment">/**</span>
<a name="l00288"></a>00288 <span class="comment"> * Retrieves an object's &lt;tt&gt;method&lt;/tt&gt; for a particular message selector.</span>
<a name="l00289"></a>00289 <span class="comment"> *</span>
<a name="l00290"></a>00290 <span class="comment"> * @param   x       The object whose method is being queried</span>
<a name="l00291"></a>00291 <span class="comment"> * @param   s       The message selector</span>
<a name="l00292"></a>00292 <span class="comment"> *</span>
<a name="l00293"></a>00293 <span class="comment"> * @return  This function returns the &lt;tt&gt;method&lt;/tt&gt; if successful, or 0 if unsuccessful.</span>
<a name="l00294"></a>00294 <span class="comment"> *</span>
<a name="l00295"></a>00295 <span class="comment"> */</span>
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 &lt;/category&gt;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 &lt;category&gt;
<a name="l00300"></a>00300 &lt;cattitle&gt;Object Functions: obex&lt;/cattitle&gt;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 <span class="comment">// function: object_obex_store</span><span class="comment"></span>
<a name="l00303"></a>00303 <span class="comment">/**</span>
<a name="l00304"></a>00304 <span class="comment"> * Stores data in the object's obex. </span>
<a name="l00305"></a>00305 <span class="comment"> *</span>
<a name="l00306"></a>00306 <span class="comment"> * @param   x       The object pointer. This function should only be called on instantiated objects (i.e. in the &lt;tt&gt;new&lt;/tt&gt; method or later), not directly on classes (i.e. in &lt;tt&gt;main()&lt;/tt&gt;).</span>
<a name="l00307"></a>00307 <span class="comment"> * @param   key     A symbolic name for the data to be stored</span>
<a name="l00308"></a>00308 <span class="comment"> * @param   val     A &lt;tt&gt;t_object *&lt;/tt&gt;, to be stored in the obex, referenced under the &lt;tt&gt;key&lt;/tt&gt;.</span>
<a name="l00309"></a>00309 <span class="comment"> *</span>
<a name="l00310"></a>00310 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00311"></a>00311 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00312"></a>00312 <span class="comment"> *</span>
<a name="l00313"></a>00313 <span class="comment"> * @remark  Most developers will need to use this function for the specific purpose of storing the dumpout outlet in the obex (the dumpout outlet is used by attributes to report data in response to 'get' queries). For this, the developer should use something like the following in the object's &lt;tt&gt;new&lt;/tt&gt; method:</span>
<a name="l00314"></a>00314 <span class="comment">@code</span>
<a name="l00315"></a>00315 <span class="comment">object_obex_store(x, _sym_dumpout, outlet_new(x, NULL));</span>
<a name="l00316"></a>00316 <span class="comment">@endcode</span>
<a name="l00317"></a>00317 <span class="comment"> *</span>
<a name="l00318"></a>00318 <span class="comment"> */</span>
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 <span class="comment">// function: object_obex_lookup</span><span class="comment"></span>
<a name="l00321"></a>00321 <span class="comment">/**</span>
<a name="l00322"></a>00322 <span class="comment"> * Retrieves the value of a data stored in the obex. </span>
<a name="l00323"></a>00323 <span class="comment"> *</span>
<a name="l00324"></a>00324 <span class="comment"> * @param   x       The object pointer. This function should only be called on instantiated objects (i.e. in the &lt;tt&gt;new&lt;/tt&gt; method or later), not directly on classes (i.e. in &lt;tt&gt;main()&lt;/tt&gt;).</span>
<a name="l00325"></a>00325 <span class="comment"> * @param   key     The symbolic name for the data to be retrieved</span>
<a name="l00326"></a>00326 <span class="comment"> * @param   val     A pointer to a &lt;tt&gt;t_object *&lt;/tt&gt;, to be filled with the data retrieved from the obex.</span>
<a name="l00327"></a>00327 <span class="comment"> *</span>
<a name="l00328"></a>00328 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00329"></a>00329 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00330"></a>00330 <span class="comment"> *</span>
<a name="l00331"></a>00331 <span class="comment"> * @remark  By default, pointers to the object's containing t_patcher and t_box objects are stored in the obex, under the keys '#P' and '#B', respectively. To retrieve them, the developer could do something like the following:</span>
<a name="l00332"></a>00332 <span class="comment">@code</span>
<a name="l00333"></a>00333 <span class="comment">void post_containers(t_obexobj *x)</span>
<a name="l00334"></a>00334 <span class="comment">{</span>
<a name="l00335"></a>00335 <span class="comment">    t_patcher *p;</span>
<a name="l00336"></a>00336 <span class="comment">    t_box *b;</span>
<a name="l00337"></a>00337 <span class="comment"></span>
<a name="l00338"></a>00338 <span class="comment">    p = object_obex_lookup(x, gensym("#P"), (t_object **)&amp;p);</span>
<a name="l00339"></a>00339 <span class="comment">    b = object_obex_lookup(x, gensym("#B"), (t_object **)&amp;b);</span>
<a name="l00340"></a>00340 <span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">    post("my patcher is located at 0x%X", p);</span>
<a name="l00342"></a>00342 <span class="comment">    post("my box is located at 0x%X", b);</span>
<a name="l00343"></a>00343 <span class="comment">}</span>
<a name="l00344"></a>00344 <span class="comment">@endcode</span>
<a name="l00345"></a>00345 <span class="comment"> *</span>
<a name="l00346"></a>00346 <span class="comment"> */</span>
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 <span class="comment">// function: object_obex_dumpout</span><span class="comment"></span>
<a name="l00349"></a>00349 <span class="comment">/**</span>
<a name="l00350"></a>00350 <span class="comment"> * Sends data from the object's dumpout outlet. The dumpout outlet is stored in the obex using the &lt;tt&gt;object_obex_store&lt;/tt&gt; function (see above) It is used approximately like &lt;tt&gt;outlet_anything&lt;/tt&gt;.</span>
<a name="l00351"></a>00351 <span class="comment"> *</span>
<a name="l00352"></a>00352 <span class="comment"> * @param   x       The object pointer. This function should only be called on instantiated objects (i.e. in the &lt;tt&gt;new&lt;/tt&gt; method or later), not directly on classes (i.e. in &lt;tt&gt;main()&lt;/tt&gt;).</span>
<a name="l00353"></a>00353 <span class="comment"> * @param   s       The message selector t_symbol *</span>
<a name="l00354"></a>00354 <span class="comment"> * @param   argc    Number of elements in the argument list in argv</span>
<a name="l00355"></a>00355 <span class="comment"> * @param   argv    t_atoms constituting the message arguments</span>
<a name="l00356"></a>00356 <span class="comment"> *</span>
<a name="l00357"></a>00357 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00358"></a>00358 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00359"></a>00359 <span class="comment"> *</span>
<a name="l00360"></a>00360 <span class="comment"> */</span>
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">// function: object_obex_set</span><span class="comment"></span>
<a name="l00363"></a>00363 <span class="comment">/**</span>
<a name="l00364"></a>00364 <span class="comment"> * Currently undocumented.</span>
<a name="l00365"></a>00365 <span class="comment"> *</span>
<a name="l00366"></a>00366 <span class="comment"> * @param   x       &lt;em&gt;undocumented&lt;/em&gt;</span>
<a name="l00367"></a>00367 <span class="comment"> * @param   obex    &lt;em&gt;undocumented&lt;/em&gt;</span>
<a name="l00368"></a>00368 <span class="comment"> *</span>
<a name="l00369"></a>00369 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00370"></a>00370 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00371"></a>00371 <span class="comment"> *</span>
<a name="l00372"></a>00372 <span class="comment"> */</span>
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 <span class="comment">// function: object_obex_get</span><span class="comment"></span>
<a name="l00375"></a>00375 <span class="comment">/**</span>
<a name="l00376"></a>00376 <span class="comment"> * Currently undocumented.</span>
<a name="l00377"></a>00377 <span class="comment"> *</span>
<a name="l00378"></a>00378 <span class="comment"> * @param   x       &lt;em&gt;undocumented&lt;/em&gt;</span>
<a name="l00379"></a>00379 <span class="comment"> *</span>
<a name="l00380"></a>00380 <span class="comment"> * @return  The return value is undocumented.</span>
<a name="l00381"></a>00381 <span class="comment"> *</span>
<a name="l00382"></a>00382 <span class="comment"> */</span>
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 &lt;/category&gt;
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 &lt;category&gt;
<a name="l00387"></a>00387 &lt;cattitle&gt;Object Functions: miscellaneous&lt;/cattitle&gt;
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 <span class="comment">// function: object_classname_compare</span><span class="comment"></span>
<a name="l00390"></a>00390 <span class="comment">/**</span>
<a name="l00391"></a>00391 <span class="comment"> * Determines if a particular object is an instance of a given class.</span>
<a name="l00392"></a>00392 <span class="comment"> *</span>
<a name="l00393"></a>00393 <span class="comment"> * @param   x       The object to test</span>
<a name="l00394"></a>00394 <span class="comment"> * @param   name    The name of the class to test the object against</span>
<a name="l00395"></a>00395 <span class="comment"> *</span>
<a name="l00396"></a>00396 <span class="comment"> * @return  This function returns 1 if the object is an instance of the named class. Otherwise, 0 is returned.</span>
<a name="l00397"></a>00397 <span class="comment"> *</span>
<a name="l00398"></a>00398 <span class="comment"> * @remark  For instance, to determine whether an unknown object pointer is a pointer to a print object, you'd call:</span>
<a name="l00399"></a>00399 <span class="comment">@code</span>
<a name="l00400"></a>00400 <span class="comment">long isprint = object_classname_compare(x, gensym("print"));</span>
<a name="l00401"></a>00401 <span class="comment">@endcode</span>
<a name="l00402"></a>00402 <span class="comment"> *</span>
<a name="l00403"></a>00403 <span class="comment"> */</span>
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 <span class="comment">// function: object_class</span><span class="comment"></span>
<a name="l00406"></a>00406 <span class="comment">/**</span>
<a name="l00407"></a>00407 <span class="comment"> * Determines the class of a given object.</span>
<a name="l00408"></a>00408 <span class="comment"> *</span>
<a name="l00409"></a>00409 <span class="comment"> * @param   x       The object to test</span>
<a name="l00410"></a>00410 <span class="comment"> *</span>
<a name="l00411"></a>00411 <span class="comment"> * @return  This function returns the t_class * of the object's class, if successful, or &lt;tt&gt;NULL&lt;/tt&gt;, if unsuccessful.</span>
<a name="l00412"></a>00412 <span class="comment"> *</span>
<a name="l00413"></a>00413 <span class="comment"> */</span>
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 <span class="comment">// function: object_getvalueof</span><span class="comment"></span>
<a name="l00416"></a>00416 <span class="comment">/**</span>
<a name="l00417"></a>00417 <span class="comment"> * Retrieves the value of an object which supports the &lt;tt&gt;getvalueof/setvalueof&lt;/tt&gt; interface. See part 2 of the pattr SDK for more information on this interface.</span>
<a name="l00418"></a>00418 <span class="comment"> *</span>
<a name="l00419"></a>00419 <span class="comment"> * @param   x       The object whose value is of interest</span>
<a name="l00420"></a>00420 <span class="comment"> * @param   ac      Pointer to a long variable to receive the count of arguments in &lt;tt&gt;av&lt;/tt&gt;. The long variable itself should be set to 0 previous to calling this function.</span>
<a name="l00421"></a>00421 <span class="comment"> * @param   av      Pointer to a t_atom *, to receive object data. The t_atom * itself should be set to &lt;tt&gt;NULL&lt;/tt&gt; previous to calling this function.</span>
<a name="l00422"></a>00422 <span class="comment"> *</span>
<a name="l00423"></a>00423 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00424"></a>00424 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00425"></a>00425 <span class="comment"> *</span>
<a name="l00426"></a>00426 <span class="comment"> * @remark  Calling the &lt;tt&gt;object_getvalueof&lt;/tt&gt; function allocates memory for any data it returns. It is the developer's responsibility to free it, using the &lt;tt&gt;freebytes&lt;/tt&gt; function.</span>
<a name="l00427"></a>00427 <span class="comment"> *</span>
<a name="l00428"></a>00428 <span class="comment"> * @remark  Developers wishing to design objects which will support this function being called on them must define and implement a special method, &lt;tt&gt;getvalueof&lt;/tt&gt;, like so:</span>
<a name="l00429"></a>00429 <span class="comment">@code</span>
<a name="l00430"></a>00430 <span class="comment">class_addmethod(c, (method)myobject_getvalueof, "getvalueof", A_CANT, 0);</span>
<a name="l00431"></a>00431 <span class="comment">@endcode</span>
<a name="l00432"></a>00432 <span class="comment"> *</span>
<a name="l00433"></a>00433 <span class="comment"> * @remark  The &lt;tt&gt;getvalueof&lt;/tt&gt; method should be prototyped as:</span>
<a name="l00434"></a>00434 <span class="comment">@code</span>
<a name="l00435"></a>00435 <span class="comment">t_max_err myobject_getvalueof(t_myobject *x, long *ac, t_atom **av);</span>
<a name="l00436"></a>00436 <span class="comment">@endcode</span>
<a name="l00437"></a>00437 <span class="comment"> *</span>
<a name="l00438"></a>00438 <span class="comment"> * @remark  And implemented, generally, as:</span>
<a name="l00439"></a>00439 <span class="comment">@code</span>
<a name="l00440"></a>00440 <span class="comment">t_max_err myobj_getvalueof(t_myobj *x, long *ac, t_atom **av) </span>
<a name="l00441"></a>00441 <span class="comment">{</span>
<a name="l00442"></a>00442 <span class="comment">    if (ac &amp;&amp; av) {</span>
<a name="l00443"></a>00443 <span class="comment">        if (*ac &amp;&amp; *av) {</span>
<a name="l00444"></a>00444 <span class="comment">            // memory has been passed in; use it.</span>
<a name="l00445"></a>00445 <span class="comment">        } else {</span>
<a name="l00446"></a>00446 <span class="comment">            // allocate enough memory for your data</span>
<a name="l00447"></a>00447 <span class="comment">            *av = (t_atom *)getbytes(sizeof(t_atom));</span>
<a name="l00448"></a>00448 <span class="comment">        }</span>
<a name="l00449"></a>00449 <span class="comment">        *ac = 1; // our data is a single floating point value</span>
<a name="l00450"></a>00450 <span class="comment">        atom_setfloat(*av, x-&gt;objvalue);</span>
<a name="l00451"></a>00451 <span class="comment">    }</span>
<a name="l00452"></a>00452 <span class="comment">    return MAX_ERR_NONE;</span>
<a name="l00453"></a>00453 <span class="comment">}</span>
<a name="l00454"></a>00454 <span class="comment"> *</span>
<a name="l00455"></a>00455 <span class="comment"> * @remark  By convention, and to permit the interoperability of objects using the obex API, developers should allocate memory in their &lt;tt&gt;getvalueof&lt;/tt&gt; methods using the &lt;tt&gt;getbytes&lt;/tt&gt; function. </span>
<a name="l00456"></a>00456 <span class="comment">@endcode</span>
<a name="l00457"></a>00457 <span class="comment"> *</span>
<a name="l00458"></a>00458 <span class="comment"> */</span>
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="comment">// function: object_setvalueof</span><span class="comment"></span>
<a name="l00461"></a>00461 <span class="comment">/**</span>
<a name="l00462"></a>00462 <span class="comment"> * Sets the value of an object which supports the &lt;tt&gt;getvalueof/setvalueof&lt;/tt&gt; interface. See part 2 of the pattr SDK for more information on this interface.</span>
<a name="l00463"></a>00463 <span class="comment"> *</span>
<a name="l00464"></a>00464 <span class="comment"> * @param   x       The object whose value is of interest</span>
<a name="l00465"></a>00465 <span class="comment"> * @param   ac      The count of arguments in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l00466"></a>00466 <span class="comment"> * @param   av      Array of t_atoms; the new desired data for the object</span>
<a name="l00467"></a>00467 <span class="comment"> *</span>
<a name="l00468"></a>00468 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00469"></a>00469 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00470"></a>00470 <span class="comment"> *</span>
<a name="l00471"></a>00471 <span class="comment"> * @remark  Developers wishing to design objects which will support this function being called on them must define and implement a special method, &lt;tt&gt;setvalueof&lt;/tt&gt;, like so:</span>
<a name="l00472"></a>00472 <span class="comment">@code</span>
<a name="l00473"></a>00473 <span class="comment">class_addmethod(c, (method)myobject_setvalueof, "setvalueof", A_CANT, 0);</span>
<a name="l00474"></a>00474 <span class="comment">@endcode</span>
<a name="l00475"></a>00475 <span class="comment"> *</span>
<a name="l00476"></a>00476 <span class="comment"> * @remark  The &lt;tt&gt;setvalueof&lt;/tt&gt; method should be prototyped as:</span>
<a name="l00477"></a>00477 <span class="comment">@code</span>
<a name="l00478"></a>00478 <span class="comment">t_max_err myobject_setvalueof(t_myobject *x, long *ac, t_atom **av);</span>
<a name="l00479"></a>00479 <span class="comment">@endcode</span>
<a name="l00480"></a>00480 <span class="comment"> *</span>
<a name="l00481"></a>00481 <span class="comment"> * @remark  And implemented, generally, as:</span>
<a name="l00482"></a>00482 <span class="comment">@code</span>
<a name="l00483"></a>00483 <span class="comment">t_max_err myobject_setvalueof(t_myobject *x, long ac, t_atom *av)</span>
<a name="l00484"></a>00484 <span class="comment">{</span>
<a name="l00485"></a>00485 <span class="comment">    if (ac &amp;&amp; av) {</span>
<a name="l00486"></a>00486 <span class="comment">        // simulate receipt of a float value</span>
<a name="l00487"></a>00487 <span class="comment">        myobject_float(x, atom_getfloat(av));</span>
<a name="l00488"></a>00488 <span class="comment">    }</span>
<a name="l00489"></a>00489 <span class="comment">    return MAX_ERR_NONE;</span>
<a name="l00490"></a>00490 <span class="comment">}</span>
<a name="l00491"></a>00491 <span class="comment">@endcode</span>
<a name="l00492"></a>00492 <span class="comment"> *</span>
<a name="l00493"></a>00493 <span class="comment"> */</span>
<a name="l00494"></a>00494 
<a name="l00495"></a>00495 &lt;/category&gt;
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 &lt;category&gt;
<a name="l00498"></a>00498 &lt;cattitle&gt;Object Functions: registration/notification&lt;/cattitle&gt;
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 <span class="comment">// function: object_register</span><span class="comment"></span>
<a name="l00501"></a>00501 <span class="comment">/**</span>
<a name="l00502"></a>00502 <span class="comment"> * Registers an object in a namespace.</span>
<a name="l00503"></a>00503 <span class="comment"> *</span>
<a name="l00504"></a>00504 <span class="comment"> * @param   name_space  The namespace in which to register the object. The namespace c</span>
<a name="l00505"></a>00505 <span class="comment"> *                      an be any symbol. If the namespace does not already exist, </span>
<a name="l00506"></a>00506 <span class="comment"> *                      it is created automatically.</span>
<a name="l00507"></a>00507 <span class="comment"> * @param   s           The name of the object in the namespace. This name will be </span>
<a name="l00508"></a>00508 <span class="comment"> *                      used by other objects to attach and detach from the registered object.</span>
<a name="l00509"></a>00509 <span class="comment"> * @param   x           The object to register</span>
<a name="l00510"></a>00510 <span class="comment"> *</span>
<a name="l00511"></a>00511 <span class="comment"> * @return  The function returns a pointer to the registered object. Under some </span>
<a name="l00512"></a>00512 <span class="comment"> *          circumstances, object_register will &lt;em&gt;duplicate&lt;/em&gt; the object, </span>
<a name="l00513"></a>00513 <span class="comment"> *          and return a pointer to the duplicateâ€”the developer should not assume </span>
<a name="l00514"></a>00514 <span class="comment"> *          that the pointer passed in is the same pointer that has been registered. </span>
<a name="l00515"></a>00515 <span class="comment"> *          To be safe, the returned pointer should be stored and used with the </span>
<a name="l00516"></a>00516 <span class="comment"> *          &lt;tt&gt;object_unregister()&lt;/tt&gt; function.</span>
<a name="l00517"></a>00517 <span class="comment"> *</span>
<a name="l00518"></a>00518 <span class="comment"> */</span>
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 <span class="comment">// function: object_unregister</span><span class="comment"></span>
<a name="l00521"></a>00521 <span class="comment">/**</span>
<a name="l00522"></a>00522 <span class="comment"> * Removes a registered object from a namespace.</span>
<a name="l00523"></a>00523 <span class="comment"> *</span>
<a name="l00524"></a>00524 <span class="comment"> * @param   x       The object to unregister. This should be the pointer returned from the &lt;tt&gt;object_register&lt;/tt&gt; function.</span>
<a name="l00525"></a>00525 <span class="comment"> *</span>
<a name="l00526"></a>00526 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00527"></a>00527 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00528"></a>00528 <span class="comment"> *</span>
<a name="l00529"></a>00529 <span class="comment"> */</span>
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="comment">// function: object_attach</span><span class="comment"></span>
<a name="l00532"></a>00532 <span class="comment">/**</span>
<a name="l00533"></a>00533 <span class="comment"> * Attaches a client to a registered object. Once attached, the object will receive notifications sent from the registered object (via the &lt;tt&gt;object_notify&lt;/tt&gt; function), if it has a &lt;tt&gt;notify&lt;/tt&gt; method defined and implemented. See below for more information, in the reference for &lt;tt&gt;object_notify&lt;/tt&gt;.</span>
<a name="l00534"></a>00534 <span class="comment"> *</span>
<a name="l00535"></a>00535 <span class="comment"> * @param   name_space  The namespace of the registered object. This should be the </span>
<a name="l00536"></a>00536 <span class="comment"> *                      same value used in &lt;tt&gt;object_register&lt;/tt&gt; to register the </span>
<a name="l00537"></a>00537 <span class="comment"> *                      object. If you don't know the registered object's namespace, </span>
<a name="l00538"></a>00538 <span class="comment"> *                      the &lt;tt&gt;object_findregisteredbyptr&lt;/tt&gt; function can be </span>
<a name="l00539"></a>00539 <span class="comment"> *                      used to determine it.</span>
<a name="l00540"></a>00540 <span class="comment"> * @param   s           The name of the registered object in the namespace. If you </span>
<a name="l00541"></a>00541 <span class="comment"> *                      don't know the name of the registered object, the </span>
<a name="l00542"></a>00542 <span class="comment"> *                      &lt;tt&gt;object_findregisteredbyptr&lt;/tt&gt; function can be used to </span>
<a name="l00543"></a>00543 <span class="comment"> *                      determine it.</span>
<a name="l00544"></a>00544 <span class="comment"> * @param   x           The client object to attach. Generally, this is the pointer to your Max object. </span>
<a name="l00545"></a>00545 <span class="comment"> *</span>
<a name="l00546"></a>00546 <span class="comment"> * @return  This function returns a pointer to the registered object (to the object </span>
<a name="l00547"></a>00547 <span class="comment"> *          referred to by the combination of &lt;tt&gt;name_space&lt;/tt&gt; and &lt;tt&gt;s&lt;/tt&gt; </span>
<a name="l00548"></a>00548 <span class="comment"> *          arguments) if successful, or NULL if unsuccessful.</span>
<a name="l00549"></a>00549 <span class="comment"> *</span>
<a name="l00550"></a>00550 <span class="comment"> */</span>
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 <span class="comment">// function: object_detach</span><span class="comment"></span>
<a name="l00553"></a>00553 <span class="comment">/**</span>
<a name="l00554"></a>00554 <span class="comment"> * Detach a client from a registered object.</span>
<a name="l00555"></a>00555 <span class="comment"> *</span>
<a name="l00556"></a>00556 <span class="comment"> * @param   name_space  The namespace of the registered object. This should be the </span>
<a name="l00557"></a>00557 <span class="comment"> *                      same value used in &lt;tt&gt;object_register&lt;/tt&gt; to register the </span>
<a name="l00558"></a>00558 <span class="comment"> *                      object. If you don't know the registered object's namespace, </span>
<a name="l00559"></a>00559 <span class="comment"> *                      the &lt;tt&gt;object_findregisteredbyptr&lt;/tt&gt; function can be </span>
<a name="l00560"></a>00560 <span class="comment"> *                      used to determine it.</span>
<a name="l00561"></a>00561 <span class="comment"> * @param   s           The name of the registered object in the namespace. If you </span>
<a name="l00562"></a>00562 <span class="comment"> *                      don't know the name of the registered object, the </span>
<a name="l00563"></a>00563 <span class="comment"> *                      &lt;tt&gt;object_findregisteredbyptr&lt;/tt&gt; function can be used to </span>
<a name="l00564"></a>00564 <span class="comment"> *                      determine it.</span>
<a name="l00565"></a>00565 <span class="comment"> * @param   x           The client object to detach. Generally, this is the pointer to your Max object. </span>
<a name="l00566"></a>00566 <span class="comment"> *</span>
<a name="l00567"></a>00567 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00568"></a>00568 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00569"></a>00569 <span class="comment"> *</span>
<a name="l00570"></a>00570 <span class="comment"> */</span>
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 <span class="comment">// function: object_notify</span><span class="comment"></span>
<a name="l00573"></a>00573 <span class="comment">/**</span>
<a name="l00574"></a>00574 <span class="comment"> * Broadcast a message (with an optional argument) from a registered object to any attached client objects.</span>
<a name="l00575"></a>00575 <span class="comment"> *</span>
<a name="l00576"></a>00576 <span class="comment"> * @param   x       Pointer to the registered object</span>
<a name="l00577"></a>00577 <span class="comment"> * @param   s       The message to send</span>
<a name="l00578"></a>00578 <span class="comment"> * @param   data    An optional argument which will be passed with the message. </span>
<a name="l00579"></a>00579 <span class="comment"> *                  Sets this argument to &lt;tt&gt;NULL&lt;/tt&gt; if it will be unused. </span>
<a name="l00580"></a>00580 <span class="comment"> *</span>
<a name="l00581"></a>00581 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00582"></a>00582 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00583"></a>00583 <span class="comment"> *</span>
<a name="l00584"></a>00584 <span class="comment"> * @remark  In order for client objects to receive notifications, they must define and implement a special method, &lt;tt&gt;notify&lt;/tt&gt;, like so:</span>
<a name="l00585"></a>00585 <span class="comment">@code</span>
<a name="l00586"></a>00586 <span class="comment">class_addmethod(c, (method)myobject_notify, "notify", A_CANT, 0);</span>
<a name="l00587"></a>00587 <span class="comment">@endcode</span>
<a name="l00588"></a>00588 <span class="comment"> *</span>
<a name="l00589"></a>00589 <span class="comment"> * @remark  The &lt;tt&gt;notify&lt;/tt&gt; method should be prototyped as:</span>
<a name="l00590"></a>00590 <span class="comment">@code</span>
<a name="l00591"></a>00591 <span class="comment">void myobject_notify(t_myobject *x, t_symbol *s, t_symbol *msg, void *sender, void *data);</span>
<a name="l00592"></a>00592 <span class="comment">@endcode</span>
<a name="l00593"></a>00593 <span class="comment"> * where </span>
<a name="l00594"></a>00594 <span class="comment"> * &lt;tt&gt;x&lt;/tt&gt; is the pointer to the receiving object,</span>
<a name="l00595"></a>00595 <span class="comment"> * &lt;tt&gt;s&lt;/tt&gt; is the name of the sending (registered) object in its namespace,</span>
<a name="l00596"></a>00596 <span class="comment"> * &lt;tt&gt;msg&lt;/tt&gt; is the sent message,</span>
<a name="l00597"></a>00597 <span class="comment"> * &lt;tt&gt;sender&lt;/tt&gt; is the pointer to the sending object, and</span>
<a name="l00598"></a>00598 <span class="comment"> * &lt;tt&gt;data&lt;/tt&gt;is an optional argument sent with the message. </span>
<a name="l00599"></a>00599 <span class="comment"> * This value corresponds to the data argument in the &lt;tt&gt;object_notify&lt;/tt&gt; method. </span>
<a name="l00600"></a>00600 <span class="comment"> *</span>
<a name="l00601"></a>00601 <span class="comment"> */</span>
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">// function: object_findregistered</span><span class="comment"></span>
<a name="l00604"></a>00604 <span class="comment">/**</span>
<a name="l00605"></a>00605 <span class="comment"> * Determines a registered object's pointer, given its namespace and name.</span>
<a name="l00606"></a>00606 <span class="comment"> *</span>
<a name="l00607"></a>00607 <span class="comment"> * @param   name_space  The namespace of the registered object</span>
<a name="l00608"></a>00608 <span class="comment"> * @param   s           The name of the registered object in the namespace</span>
<a name="l00609"></a>00609 <span class="comment"> *</span>
<a name="l00610"></a>00610 <span class="comment"> * @return  This function returns the pointer of the registered object, </span>
<a name="l00611"></a>00611 <span class="comment"> *          if successful, or NULL, if unsuccessful.</span>
<a name="l00612"></a>00612 <span class="comment"> *</span>
<a name="l00613"></a>00613 <span class="comment"> */</span>
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 <span class="comment">// function: object_findregisteredbyptr</span><span class="comment"></span>
<a name="l00616"></a>00616 <span class="comment">/**</span>
<a name="l00617"></a>00617 <span class="comment"> * Determines the namespace and/or name of a registered object, given the object's pointer.</span>
<a name="l00618"></a>00618 <span class="comment"> *</span>
<a name="l00619"></a>00619 <span class="comment"> * @param   name_space  Pointer to a t_symbol *, to receive the namespace of the registered object</span>
<a name="l00620"></a>00620 <span class="comment"> * @param   s           Pointer to a t_symbol *, to receive the name of the registered object within the namespace</span>
<a name="l00621"></a>00621 <span class="comment"> * @param   x           Pointer to the registered object</span>
<a name="l00622"></a>00622 <span class="comment"> *</span>
<a name="l00623"></a>00623 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00624"></a>00624 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00625"></a>00625 <span class="comment"> *</span>
<a name="l00626"></a>00626 <span class="comment"> */</span>
<a name="l00627"></a>00627 
<a name="l00628"></a>00628 &lt;/category&gt;
<a name="l00629"></a>00629 
<a name="l00630"></a>00630 &lt;category&gt;
<a name="l00631"></a>00631 &lt;cattitle&gt;Attribute Functions: attribute creation and filters&lt;/cattitle&gt;<span class="comment"></span>
<a name="l00632"></a>00632 <span class="comment">/**</span>
<a name="l00633"></a>00633 <span class="comment"> *</span>
<a name="l00634"></a>00634 <span class="comment"> * @remark  Attributes have been described at length elsewhere. They can be added to a class using the &lt;tt&gt;class_addattr&lt;/tt&gt; function. The following functions provide means of creating and modifying attribute filter properties.</span>
<a name="l00635"></a>00635 <span class="comment"> *</span>
<a name="l00636"></a>00636 <span class="comment"> */</span>
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 <span class="comment">// function: attribute_new</span><span class="comment"></span>
<a name="l00639"></a>00639 <span class="comment">/**</span>
<a name="l00640"></a>00640 <span class="comment"> * Create a new attribute. The attribute will allocate memory and store its own data. Attributes created using &lt;tt&gt;attribute_new&lt;/tt&gt; can be assigned either to classes (using the &lt;tt&gt;class_addattr&lt;/tt&gt; function) or to objects (using the &lt;tt&gt;object_addattr&lt;/tt&gt; function).</span>
<a name="l00641"></a>00641 <span class="comment"> *</span>
<a name="l00642"></a>00642 <span class="comment"> * @param   name    A name for the attribute, as a C-string</span>
<a name="l00643"></a>00643 <span class="comment"> * @param   type    A t_symbol * representing a valid attribute type. At the time of this writing, the valid type-symbols are: &lt;tt&gt;_sym_char&lt;/tt&gt; (char), &lt;tt&gt;_sym_long&lt;/tt&gt; (long), &lt;tt&gt;_sym_float32&lt;/tt&gt; (32-bit float), &lt;tt&gt;_sym_float64&lt;/tt&gt; (64-bit float), &lt;tt&gt;_sym_atom&lt;/tt&gt; (Max t_atom pointer), &lt;tt&gt;_sym_symbol&lt;/tt&gt; (Max t_symbol pointer), &lt;tt&gt;_sym_pointer&lt;/tt&gt; (generic pointer) and &lt;tt&gt;_sym_object&lt;/tt&gt; (Max t_object pointer).</span>
<a name="l00644"></a>00644 <span class="comment"> * @param   flags   Any attribute flags, expressed as a bitfield. Attribute flags are used to determine if an attribute is accessible for setting or querying. The following accessor flags are currently available:ATTR_GET_OPAQUE: The attribute cannot be queried by either max message when used inside of a CLASS_BOX object, nor from C code.ATTR_SET_OPAQUE: The attribute cannot be set by either max message when used inside of a CLASS_BOX object, nor from C code.ATTR_GET_OPAQUE_USER: The attribute cannot be queried by max message when used inside of a CLASS_BOX object, but &lt;em&gt;can&lt;/em&gt; be queried from C code.ATTR_SET_OPAQUE_USER: The attribute cannot be set by max message when used inside of a CLASS_BOX object, but &lt;em&gt;can&lt;/em&gt; be set from C code.&lt;text:tab-stop/&gt;</span>
<a name="l00645"></a>00645 <span class="comment"> * @param   mget    The method to use for the attribute's &lt;tt&gt;get&lt;/tt&gt; functionality. If &lt;tt&gt;mget&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used. </span>
<a name="l00646"></a>00646 <span class="comment"> * @param   mset    The method to use for the attribute's &lt;tt&gt;set&lt;/tt&gt; functionality. If &lt;tt&gt;mset&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used.</span>
<a name="l00647"></a>00647 <span class="comment"> *</span>
<a name="l00648"></a>00648 <span class="comment"> * @return  This function returns the new attribute's object pointer if successful, or &lt;tt&gt;NULL&lt;/tt&gt; if unsuccessful.</span>
<a name="l00649"></a>00649 <span class="comment"> *</span>
<a name="l00650"></a>00650 <span class="comment"> * @remark  Developers wishing to define custom methods for &lt;tt&gt;get&lt;/tt&gt; or &lt;tt&gt;set&lt;/tt&gt; functionality need to prototype them as:</span>
<a name="l00651"></a>00651 <span class="comment">@code</span>
<a name="l00652"></a>00652 <span class="comment">t_max_err myobject_myattr_get(t_myobject *x, void *attr, long *ac, t_atom **av);</span>
<a name="l00653"></a>00653 <span class="comment">@endcode</span>
<a name="l00654"></a>00654 <span class="comment">@code</span>
<a name="l00655"></a>00655 <span class="comment">t_max_err myobject_myattr_set(t_myobject *x, void *attr, long ac, t_atom *av);</span>
<a name="l00656"></a>00656 <span class="comment">@endcode</span>
<a name="l00657"></a>00657 <span class="comment"> *</span>
<a name="l00658"></a>00658 <span class="comment"> * @remark  Implementation will vary, of course, but need to follow the following basic models. Note that, as with custom &lt;tt&gt;getvalueof&lt;/tt&gt; and &lt;tt&gt;setvalueof&lt;/tt&gt; methods for the object, assumptions are made throughout Max that &lt;tt&gt;getbytes&lt;/tt&gt; has been used for memory allocation. Developers are strongly urged to do the same:</span>
<a name="l00659"></a>00659 <span class="comment">@code</span>
<a name="l00660"></a>00660 <span class="comment">t_max_err myobject_myattr_get(t_myobject *x, void *attr, long *ac, t_atom **av)</span>
<a name="l00661"></a>00661 <span class="comment">{</span>
<a name="l00662"></a>00662 <span class="comment">    if (*ac &amp;&amp; *av)</span>
<a name="l00663"></a>00663 <span class="comment">        // memory passed in; use it</span>
<a name="l00664"></a>00664 <span class="comment">    else {</span>
<a name="l00665"></a>00665 <span class="comment">        *ac = 1; // size of attr data</span>
<a name="l00666"></a>00666 <span class="comment">        *av = (t_atom *)getbytes(sizeof(t_atom) * (*ac));</span>
<a name="l00667"></a>00667 <span class="comment">        if (!(*av)) {</span>
<a name="l00668"></a>00668 <span class="comment">            *ac = 0;</span>
<a name="l00669"></a>00669 <span class="comment">            return MAX_ERR_OUT_OF_MEM;</span>
<a name="l00670"></a>00670 <span class="comment">        }</span>
<a name="l00671"></a>00671 <span class="comment">    }</span>
<a name="l00672"></a>00672 <span class="comment">    atom_setlong(*av, x-&gt;some_value);</span>
<a name="l00673"></a>00673 <span class="comment">    return MAX_ERR_NONE;</span>
<a name="l00674"></a>00674 <span class="comment">}</span>
<a name="l00675"></a>00675 <span class="comment"></span>
<a name="l00676"></a>00676 <span class="comment">t_max_err myobject_myattr_set(t_myobject *x, void *attr, long ac, t_atom *av)</span>
<a name="l00677"></a>00677 <span class="comment">{</span>
<a name="l00678"></a>00678 <span class="comment">    if (ac &amp;&amp; av) {</span>
<a name="l00679"></a>00679 <span class="comment">        x-&gt;some_value = atom_getlong(av);</span>
<a name="l00680"></a>00680 <span class="comment">    }</span>
<a name="l00681"></a>00681 <span class="comment">    return MAX_ERR_NONE;</span>
<a name="l00682"></a>00682 <span class="comment">}</span>
<a name="l00683"></a>00683 <span class="comment">@endcode</span>
<a name="l00684"></a>00684 <span class="comment"> *</span>
<a name="l00685"></a>00685 <span class="comment"> */</span>
<a name="l00686"></a>00686 
<a name="l00687"></a>00687 <span class="comment">// function: attr_offset_new</span><span class="comment"></span>
<a name="l00688"></a>00688 <span class="comment">/**</span>
<a name="l00689"></a>00689 <span class="comment"> * Create a new attribute. The attribute references memory stored outside of itself, in the object's data structure. Attributes created using &lt;tt&gt;attr_offset_new&lt;/tt&gt; can be assigned either to classes (using the &lt;tt&gt;class_addattr&lt;/tt&gt; function) or to objects (using the &lt;tt&gt;object_addattr&lt;/tt&gt; function).</span>
<a name="l00690"></a>00690 <span class="comment"> *</span>
<a name="l00691"></a>00691 <span class="comment"> * @param   name    A name for the attribute, as a C-string</span>
<a name="l00692"></a>00692 <span class="comment"> * @param   type    A t_symbol * representing a valid attribute type. At the time of this writing, the valid type-symbols are: &lt;tt&gt;_sym_char&lt;/tt&gt; (char), &lt;tt&gt;_sym_long&lt;/tt&gt; (long), &lt;tt&gt;_sym_float32&lt;/tt&gt; (32-bit float), &lt;tt&gt;_sym_float64&lt;/tt&gt; (64-bit float), &lt;tt&gt;_sym_atom&lt;/tt&gt; (Max t_atom pointer), &lt;tt&gt;_sym_symbol&lt;/tt&gt; (Max t_symbol pointer), &lt;tt&gt;_sym_pointer&lt;/tt&gt; (generic pointer) and &lt;tt&gt;_sym_object&lt;/tt&gt; (Max t_object pointer). This type should match the size of the data at the byte offset specified in the &lt;tt&gt;offset&lt;/tt&gt; argument.</span>
<a name="l00693"></a>00693 <span class="comment"> * @param   flags   Any attribute flags, expressed as a bitfield. See the discussion of attribute flags above, under &lt;tt&gt;attribute_new()&lt;/tt&gt;.</span>
<a name="l00694"></a>00694 <span class="comment"> * @param   mget    The method to use for the attribute's &lt;tt&gt;get&lt;/tt&gt; functionality. If &lt;tt&gt;mget&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used. See the discussion under &lt;tt&gt;attribute_new&lt;/tt&gt;, above, for more information.</span>
<a name="l00695"></a>00695 <span class="comment"> * @param   mset    The method to use for the attribute's &lt;tt&gt;set&lt;/tt&gt; functionality. If &lt;tt&gt;mset&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used. See the discussion under &lt;tt&gt;attribute_new&lt;/tt&gt;, above, for more information.</span>
<a name="l00696"></a>00696 <span class="comment"> * @param   offset  Byte offset into the class data structure of the object which will "own" the attribute. The offset should point to the data to be referenced by the attribute. Typically, the &lt;tt&gt;calcoffset&lt;/tt&gt; macro (described above) is used to calculate this offset.</span>
<a name="l00697"></a>00697 <span class="comment"> *</span>
<a name="l00698"></a>00698 <span class="comment"> * @return  This function returns the new attribute's object pointer if successful, or &lt;tt&gt;NULL&lt;/tt&gt; if unsuccessful.</span>
<a name="l00699"></a>00699 <span class="comment"> *</span>
<a name="l00700"></a>00700 <span class="comment"> * @remark  For instance, to create a new attribute which references the value of a double variable (&lt;tt&gt;val&lt;/tt&gt;) in an object class's data structure:</span>
<a name="l00701"></a>00701 <span class="comment">@code</span>
<a name="l00702"></a>00702 <span class="comment">t_object *attr = attr_offset_new("myattr", _sym_float64 / * matches data size * /, 0 / * no flags * /, (method)0L, (method)0L, calcoffset(t_myobject, val));</span>
<a name="l00703"></a>00703 <span class="comment">@endcode</span>
<a name="l00704"></a>00704 <span class="comment"> *</span>
<a name="l00705"></a>00705 <span class="comment"> */</span>
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 <span class="comment">// function: attr_offset_array_new</span><span class="comment"></span>
<a name="l00708"></a>00708 <span class="comment">/**</span>
<a name="l00709"></a>00709 <span class="comment"> * Create a new attribute. The attribute references an array of memory stored outside of itself, in the object's data structure. Attributes created using &lt;tt&gt;attr_offset_array_new&lt;/tt&gt; can be assigned either to classes (using the &lt;tt&gt;class_addattr&lt;/tt&gt; function) or to objects (using the &lt;tt&gt;object_addattr&lt;/tt&gt; function).</span>
<a name="l00710"></a>00710 <span class="comment"> *</span>
<a name="l00711"></a>00711 <span class="comment"> * @param   name        A name for the attribute, as a C-string</span>
<a name="l00712"></a>00712 <span class="comment"> * @param   type        A t_symbol * representing a valid attribute type. At the time of this writing, the valid type-symbols are: &lt;tt&gt;_sym_char&lt;/tt&gt; (char), &lt;tt&gt;_sym_long&lt;/tt&gt; (long), &lt;tt&gt;_sym_float32&lt;/tt&gt; (32-bit float), &lt;tt&gt;_sym_float64&lt;/tt&gt; (64-bit float), &lt;tt&gt;_sym_atom&lt;/tt&gt; (Max t_atom pointer), &lt;tt&gt;_sym_symbol&lt;/tt&gt; (Max t_symbol pointer), &lt;tt&gt;_sym_pointer&lt;/tt&gt; (generic pointer) and &lt;tt&gt;_sym_object&lt;/tt&gt; (Max t_object pointer). This type should match the size of the data at the byte offset specified in the &lt;tt&gt;offset&lt;/tt&gt; argument.</span>
<a name="l00713"></a>00713 <span class="comment"> * @param   size        The maximum number of elements the array of data will contain. </span>
<a name="l00714"></a>00714 <span class="comment"> * @param   flags       Any attribute flags, expressed as a bitfield. See the discussion of attribute flags above, under &lt;tt&gt;attribute_new()&lt;/tt&gt;.</span>
<a name="l00715"></a>00715 <span class="comment"> * @param   mget        The method to use for the attribute's &lt;tt&gt;get&lt;/tt&gt; functionality. If &lt;tt&gt;mget&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used. See the discussion under &lt;tt&gt;attribute_new&lt;/tt&gt;, above, for more information.</span>
<a name="l00716"></a>00716 <span class="comment"> * @param   mset        The method to use for the attribute's &lt;tt&gt;set&lt;/tt&gt; functionality. If &lt;tt&gt;mset&lt;/tt&gt; is &lt;tt&gt;NULL&lt;/tt&gt;, the default method is used. See the discussion under &lt;tt&gt;attribute_new&lt;/tt&gt;, above, for more information.</span>
<a name="l00717"></a>00717 <span class="comment"> * @param   offsetcount Byte offset into the object class's data structure of a long variable describing how many array elements (up to &lt;tt&gt;size&lt;/tt&gt;) comprise the data to be referenced by the attribute. Typically, the &lt;tt&gt;calcoffset&lt;/tt&gt; macro (described above) is used to calculate this offset.</span>
<a name="l00718"></a>00718 <span class="comment"> * @param   offset      Byte offset into the class data structure of the object which will "own" the attribute. The offset should point to the data to be referenced by the attribute. Typically, the &lt;tt&gt;calcoffset&lt;/tt&gt; macro (described above) is used to calculate this offset.</span>
<a name="l00719"></a>00719 <span class="comment"> *</span>
<a name="l00720"></a>00720 <span class="comment"> * @return  This function returns the new attribute's object pointer if successful, or &lt;tt&gt;NULL&lt;/tt&gt; if unsuccessful.</span>
<a name="l00721"></a>00721 <span class="comment"> *</span>
<a name="l00722"></a>00722 <span class="comment"> * @remark  For instance, to create a new attribute which references an array of 10 t_atoms (&lt;tt&gt;atm&lt;/tt&gt;; the current number of "active" elements in the array is held in the variable &lt;tt&gt;atmcount&lt;/tt&gt;) in an object class's data structure:</span>
<a name="l00723"></a>00723 <span class="comment">@code</span>
<a name="l00724"></a>00724 <span class="comment">t_object *attr = attr_offset_array_new("myattrarray", _sym_atom / * matches data size * /, 10 / * max * /, 0 / * no flags * /, (method)0L, (method)0L, calcoffset(t_myobject, atmcount) / * count * /, calcoffset(t_myobject, atm) / * data * /);</span>
<a name="l00725"></a>00725 <span class="comment">@endcode</span>
<a name="l00726"></a>00726 <span class="comment"> *</span>
<a name="l00727"></a>00727 <span class="comment"> */</span>
<a name="l00728"></a>00728 
<a name="l00729"></a>00729 <span class="comment">// function: attr_addfilter_clip</span><span class="comment"></span>
<a name="l00730"></a>00730 <span class="comment">/**</span>
<a name="l00731"></a>00731 <span class="comment"> * Attaches a clip filter to an attribute. The filter will clip any values sent to or retrieved from the attribute using the attribute's &lt;tt&gt;get&lt;/tt&gt; and &lt;tt&gt;set&lt;/tt&gt; functions.</span>
<a name="l00732"></a>00732 <span class="comment"> *</span>
<a name="l00733"></a>00733 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00734"></a>00734 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00735"></a>00735 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00736"></a>00736 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00737"></a>00737 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00738"></a>00738 <span class="comment"> *</span>
<a name="l00739"></a>00739 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00740"></a>00740 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00741"></a>00741 <span class="comment"> *</span>
<a name="l00742"></a>00742 <span class="comment"> */</span>
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 <span class="comment">// function: attr_addfilter_clip_scale</span><span class="comment"></span>
<a name="l00745"></a>00745 <span class="comment">/**</span>
<a name="l00746"></a>00746 <span class="comment"> * Attaches a clip/scale filter to an attribute. The filter will clip and scale any values sent to or retrieved from the attribute using the attribute's &lt;tt&gt;get&lt;/tt&gt; and &lt;tt&gt;set&lt;/tt&gt; functions.</span>
<a name="l00747"></a>00747 <span class="comment"> *</span>
<a name="l00748"></a>00748 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00749"></a>00749 <span class="comment"> * @param   scale   Scale value. Data sent to the attribute will be scaled by this amount. Data retrieved from the attribute will be scaled by its reciprocal. &lt;em&gt;Scaling occurs previous to clipping&lt;/em&gt;.</span>
<a name="l00750"></a>00750 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00751"></a>00751 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00752"></a>00752 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00753"></a>00753 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00754"></a>00754 <span class="comment"> *</span>
<a name="l00755"></a>00755 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00756"></a>00756 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00757"></a>00757 <span class="comment"> *</span>
<a name="l00758"></a>00758 <span class="comment"> */</span>
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 <span class="comment">// function: attr_addfilterset_clip</span><span class="comment"></span>
<a name="l00761"></a>00761 <span class="comment">/**</span>
<a name="l00762"></a>00762 <span class="comment"> * Attaches a clip filter to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; clip values sent to the attribute using the attribute's &lt;tt&gt;set&lt;/tt&gt; function.</span>
<a name="l00763"></a>00763 <span class="comment"> *</span>
<a name="l00764"></a>00764 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00765"></a>00765 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00766"></a>00766 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00767"></a>00767 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00768"></a>00768 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00769"></a>00769 <span class="comment"> *</span>
<a name="l00770"></a>00770 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00771"></a>00771 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00772"></a>00772 <span class="comment"> *</span>
<a name="l00773"></a>00773 <span class="comment"> */</span>
<a name="l00774"></a>00774 
<a name="l00775"></a>00775 <span class="comment">// function: attr_addfilterset_clip_scale</span><span class="comment"></span>
<a name="l00776"></a>00776 <span class="comment">/**</span>
<a name="l00777"></a>00777 <span class="comment"> * Attaches a clip/scale filter to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; clip and scale values sent to the attribute using the attribute's &lt;tt&gt;set&lt;/tt&gt; function.</span>
<a name="l00778"></a>00778 <span class="comment"> *</span>
<a name="l00779"></a>00779 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00780"></a>00780 <span class="comment"> * @param   scale   Scale value. Data sent to the attribute will be scaled by this amount. &lt;em&gt;Scaling occurs previous to clipping&lt;/em&gt;.</span>
<a name="l00781"></a>00781 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00782"></a>00782 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00783"></a>00783 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00784"></a>00784 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00785"></a>00785 <span class="comment"> *</span>
<a name="l00786"></a>00786 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00787"></a>00787 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00788"></a>00788 <span class="comment"> *</span>
<a name="l00789"></a>00789 <span class="comment"> */</span>
<a name="l00790"></a>00790 
<a name="l00791"></a>00791 <span class="comment">// function: attr_addfilterget_clip</span><span class="comment"></span>
<a name="l00792"></a>00792 <span class="comment">/**</span>
<a name="l00793"></a>00793 <span class="comment"> * Attaches a clip filter to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; clip values retrieved from the attribute using the attribute's &lt;tt&gt;get&lt;/tt&gt; function.</span>
<a name="l00794"></a>00794 <span class="comment"> *</span>
<a name="l00795"></a>00795 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00796"></a>00796 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00797"></a>00797 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00798"></a>00798 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00799"></a>00799 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00800"></a>00800 <span class="comment"> *</span>
<a name="l00801"></a>00801 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00802"></a>00802 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00803"></a>00803 <span class="comment"> *</span>
<a name="l00804"></a>00804 <span class="comment"> */</span>
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 <span class="comment">// function: attr_addfilterget_clip_scale</span><span class="comment"></span>
<a name="l00807"></a>00807 <span class="comment">/**</span>
<a name="l00808"></a>00808 <span class="comment"> * Attaches a clip/scale filter to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; clip and scale values retrieved from the attribute using the attribute's &lt;tt&gt;get&lt;/tt&gt; function.</span>
<a name="l00809"></a>00809 <span class="comment"> *</span>
<a name="l00810"></a>00810 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00811"></a>00811 <span class="comment"> * @param   scale   Scale value. Data retrieved from the attribute will be scaled by this amount. &lt;em&gt;Scaling occurs previous to clipping&lt;/em&gt;.</span>
<a name="l00812"></a>00812 <span class="comment"> * @param   min     Minimum value for the clip filter</span>
<a name="l00813"></a>00813 <span class="comment"> * @param   max     Maximum value for the clip filter </span>
<a name="l00814"></a>00814 <span class="comment"> * @param   usemin  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00815"></a>00815 <span class="comment"> * @param   usemax  Sets this value to 0 if the minimum clip value should &lt;em&gt;not&lt;/em&gt; be used. Otherwise, set the value to non-zero.</span>
<a name="l00816"></a>00816 <span class="comment"> *</span>
<a name="l00817"></a>00817 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00818"></a>00818 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00819"></a>00819 <span class="comment"> *</span>
<a name="l00820"></a>00820 <span class="comment"> */</span>
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 <span class="comment">// function: attr_addfilterset_proc</span><span class="comment"></span>
<a name="l00823"></a>00823 <span class="comment">/**</span>
<a name="l00824"></a>00824 <span class="comment"> * Attaches a custom filter method to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; be called for values retrieved from the attribute using the attribute's &lt;tt&gt;set&lt;/tt&gt; function.</span>
<a name="l00825"></a>00825 <span class="comment"> *</span>
<a name="l00826"></a>00826 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00827"></a>00827 <span class="comment"> * @param   proc    A filter method</span>
<a name="l00828"></a>00828 <span class="comment"> *</span>
<a name="l00829"></a>00829 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00830"></a>00830 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00831"></a>00831 <span class="comment"> *</span>
<a name="l00832"></a>00832 <span class="comment"> * @remark  The filter method should be prototyped and implemented as follows:</span>
<a name="l00833"></a>00833 <span class="comment">@code</span>
<a name="l00834"></a>00834 <span class="comment">t_max_err myfiltermethod(void *parent, void *attr, long ac, t_atom *av);</span>
<a name="l00835"></a>00835 <span class="comment"></span>
<a name="l00836"></a>00836 <span class="comment">t_max_err myfiltermethod(void *parent, void *attr, long ac, t_atom *av)</span>
<a name="l00837"></a>00837 <span class="comment">{</span>
<a name="l00838"></a>00838 <span class="comment">    long i;</span>
<a name="l00839"></a>00839 <span class="comment">    float temp,</span>
<a name="l00840"></a>00840 <span class="comment"></span>
<a name="l00841"></a>00841 <span class="comment">    // this filter rounds off all values</span>
<a name="l00842"></a>00842 <span class="comment">    // assumes that the data is float </span>
<a name="l00843"></a>00843 <span class="comment">    for (i = 0; i &lt; ac; i++) {</span>
<a name="l00844"></a>00844 <span class="comment">        temp = atom_getfloat(av + i);</span>
<a name="l00845"></a>00845 <span class="comment">        temp = (float)((long)(temp + 0.5));</span>
<a name="l00846"></a>00846 <span class="comment">        atom_setfloat(av + i, temp);</span>
<a name="l00847"></a>00847 <span class="comment">    }</span>
<a name="l00848"></a>00848 <span class="comment">    return MAX_ERR_NONE;</span>
<a name="l00849"></a>00849 <span class="comment">}</span>
<a name="l00850"></a>00850 <span class="comment">@endcode</span>
<a name="l00851"></a>00851 <span class="comment"> *</span>
<a name="l00852"></a>00852 <span class="comment"> */</span>
<a name="l00853"></a>00853 
<a name="l00854"></a>00854 <span class="comment">// function: attr_addfilterget_proc</span><span class="comment"></span>
<a name="l00855"></a>00855 <span class="comment">/**</span>
<a name="l00856"></a>00856 <span class="comment"> * Attaches a custom filter method to an attribute. The filter will &lt;em&gt;only&lt;/em&gt; be called for values retrieved from the attribute using the attribute's &lt;tt&gt;get&lt;/tt&gt; function.</span>
<a name="l00857"></a>00857 <span class="comment"> *</span>
<a name="l00858"></a>00858 <span class="comment"> * @param   x       Pointer to the attribute to receive the filter</span>
<a name="l00859"></a>00859 <span class="comment"> * @param   proc    A filter method</span>
<a name="l00860"></a>00860 <span class="comment"> *</span>
<a name="l00861"></a>00861 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00862"></a>00862 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00863"></a>00863 <span class="comment"> *</span>
<a name="l00864"></a>00864 <span class="comment"> * @remark  The filter method should be prototyped and implemented as described above for the &lt;tt&gt;attr_addfilterset_proc&lt;/tt&gt; function.</span>
<a name="l00865"></a>00865 <span class="comment"> *</span>
<a name="l00866"></a>00866 <span class="comment"> */</span>
<a name="l00867"></a>00867 
<a name="l00868"></a>00868 &lt;/category&gt;
<a name="l00869"></a>00869 
<a name="l00870"></a>00870 &lt;category&gt;
<a name="l00871"></a>00871 &lt;cattitle&gt;Object Functions: attributes (general)&lt;/cattitle&gt;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 <span class="comment">// function: object_attr_getvalueof</span><span class="comment"></span>
<a name="l00874"></a>00874 <span class="comment">/**</span>
<a name="l00875"></a>00875 <span class="comment"> * Retrieves the value of an object's attribute. </span>
<a name="l00876"></a>00876 <span class="comment"> *</span>
<a name="l00877"></a>00877 <span class="comment"> * @param   x       Pointer to the object whose attribute is of interest</span>
<a name="l00878"></a>00878 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l00879"></a>00879 <span class="comment"> * @param   argc    Pointer to a long variable to receive the count of arguments in &lt;tt&gt;argv&lt;/tt&gt;. The long variable itself should be set to 0 previous to calling this function.</span>
<a name="l00880"></a>00880 <span class="comment"> * @param   argv    Pointer to a t_atom *, to receive object data. The t_atom * itself should be set to &lt;tt&gt;NULL&lt;/tt&gt; previous to calling this function.</span>
<a name="l00881"></a>00881 <span class="comment"> *</span>
<a name="l00882"></a>00882 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00883"></a>00883 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00884"></a>00884 <span class="comment"> *</span>
<a name="l00885"></a>00885 <span class="comment"> * @remark  Calling the &lt;tt&gt;object_getvalueof&lt;/tt&gt; function allocates memory for any data it returns. It is the developer's responsibility to free it, using the &lt;tt&gt;freebytes&lt;/tt&gt; function.</span>
<a name="l00886"></a>00886 <span class="comment"> *</span>
<a name="l00887"></a>00887 <span class="comment"> */</span>
<a name="l00888"></a>00888 
<a name="l00889"></a>00889 <span class="comment">// function: object_attr_setvalueof</span><span class="comment"></span>
<a name="l00890"></a>00890 <span class="comment">/**</span>
<a name="l00891"></a>00891 <span class="comment"> * Sets the value of an object's attribute. </span>
<a name="l00892"></a>00892 <span class="comment"> *</span>
<a name="l00893"></a>00893 <span class="comment"> * @param   x       Pointer to the object whose attribute is of interest</span>
<a name="l00894"></a>00894 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l00895"></a>00895 <span class="comment"> * @param   argc    The count of arguments in &lt;tt&gt;argv&lt;/tt&gt;</span>
<a name="l00896"></a>00896 <span class="comment"> * @param   argv    Array of t_atoms; the new desired data for the attribute</span>
<a name="l00897"></a>00897 <span class="comment"> *</span>
<a name="l00898"></a>00898 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00899"></a>00899 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00900"></a>00900 <span class="comment"> *</span>
<a name="l00901"></a>00901 <span class="comment"> */</span>
<a name="l00902"></a>00902 
<a name="l00903"></a>00903 <span class="comment">// function: object_attr_get</span><span class="comment"></span>
<a name="l00904"></a>00904 <span class="comment">/**</span>
<a name="l00905"></a>00905 <span class="comment"> * Returns the pointer to an attribute, given its name. </span>
<a name="l00906"></a>00906 <span class="comment"> *</span>
<a name="l00907"></a>00907 <span class="comment"> * @param   x           Pointer to the object whose attribute is of interest</span>
<a name="l00908"></a>00908 <span class="comment"> * @param   attrname    The attribute's name</span>
<a name="l00909"></a>00909 <span class="comment"> *</span>
<a name="l00910"></a>00910 <span class="comment"> * @return  This function returns a pointer to the attribute, if successful, or &lt;tt&gt;NULL&lt;/tt&gt;, if unsuccessful.</span>
<a name="l00911"></a>00911 <span class="comment"> *</span>
<a name="l00912"></a>00912 <span class="comment"> */</span>
<a name="l00913"></a>00913 
<a name="l00914"></a>00914 <span class="comment">// function: object_attr_method</span><span class="comment"></span>
<a name="l00915"></a>00915 <span class="comment">/**</span>
<a name="l00916"></a>00916 <span class="comment"> * Returns the method of an attribute's &lt;tt&gt;get&lt;/tt&gt; or &lt;tt&gt;set&lt;/tt&gt; function, as well as a pointer to the attribute itself, from a message name. </span>
<a name="l00917"></a>00917 <span class="comment"> *</span>
<a name="l00918"></a>00918 <span class="comment"> * @param   x           Pointer to the object whose attribute is of interest</span>
<a name="l00919"></a>00919 <span class="comment"> * @param   methodname  The Max message used to call the attribute's &lt;tt&gt;get&lt;/tt&gt; or &lt;tt&gt;set&lt;/tt&gt; function. For example, &lt;tt&gt;gensym("mode")&lt;/tt&gt; or &lt;tt&gt;gensym("getthresh")&lt;/tt&gt;.</span>
<a name="l00920"></a>00920 <span class="comment"> * @param   attr        A pointer to a void *, which will be set to the attribute pointer upon successful completion of the function</span>
<a name="l00921"></a>00921 <span class="comment"> * @param   get         A pointer to a long variable, which will be set to 1 upon successful completion of the function, if the queried method corresponds to the &lt;tt&gt;get&lt;/tt&gt; function of the attribute. </span>
<a name="l00922"></a>00922 <span class="comment"> *</span>
<a name="l00923"></a>00923 <span class="comment"> * @return  This function returns the requested method, if successful, or &lt;tt&gt;NULL&lt;/tt&gt;, if unsuccessful.</span>
<a name="l00924"></a>00924 <span class="comment"> *</span>
<a name="l00925"></a>00925 <span class="comment"> */</span>
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 <span class="comment">// function: object_attr_usercanset</span><span class="comment"></span>
<a name="l00928"></a>00928 <span class="comment">/**</span>
<a name="l00929"></a>00929 <span class="comment"> * Determines if an object's attribute can be set from the Max interface (i.e. if its &lt;tt&gt;ATTR_SET_OPAQUE_USER&lt;/tt&gt; flag is set). </span>
<a name="l00930"></a>00930 <span class="comment"> *</span>
<a name="l00931"></a>00931 <span class="comment"> * @param   x       Pointer to the object whose attribute is of interest</span>
<a name="l00932"></a>00932 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l00933"></a>00933 <span class="comment"> *</span>
<a name="l00934"></a>00934 <span class="comment"> * @return  This function returns 1 if the attribute can be set from the Max interface. Otherwise, it returns 0. </span>
<a name="l00935"></a>00935 <span class="comment"> *</span>
<a name="l00936"></a>00936 <span class="comment"> */</span>
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 <span class="comment">// function: object_attr_usercanget</span><span class="comment"></span>
<a name="l00939"></a>00939 <span class="comment">/**</span>
<a name="l00940"></a>00940 <span class="comment"> * Determines if the value of an object's attribute can be queried from the Max interface (i.e. if its &lt;tt&gt;ATTR_GET_OPAQUE_USER&lt;/tt&gt; flag is set). </span>
<a name="l00941"></a>00941 <span class="comment"> *</span>
<a name="l00942"></a>00942 <span class="comment"> * @param   x       Pointer to the object whose attribute is of interest</span>
<a name="l00943"></a>00943 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l00944"></a>00944 <span class="comment"> *</span>
<a name="l00945"></a>00945 <span class="comment"> * @return  This function returns 1 if the value of the attribute can be queried from the Max interface. Otherwise, it returns 0.</span>
<a name="l00946"></a>00946 <span class="comment"> *</span>
<a name="l00947"></a>00947 <span class="comment"> */</span>
<a name="l00948"></a>00948 
<a name="l00949"></a>00949 <span class="comment">// function: object_attr_getdump</span><span class="comment"></span>
<a name="l00950"></a>00950 <span class="comment">/**</span>
<a name="l00951"></a>00951 <span class="comment"> * Forces a specified object's attribute to send its value from the object's dumpout outlet in the Max interface. </span>
<a name="l00952"></a>00952 <span class="comment"> *</span>
<a name="l00953"></a>00953 <span class="comment"> * @param   x       Pointer to the object whose attribute is of interest</span>
<a name="l00954"></a>00954 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l00955"></a>00955 <span class="comment"> * @param   argc    Unused</span>
<a name="l00956"></a>00956 <span class="comment"> * @param   argv    Unused</span>
<a name="l00957"></a>00957 <span class="comment"> *</span>
<a name="l00958"></a>00958 <span class="comment"> */</span>
<a name="l00959"></a>00959 
<a name="l00960"></a>00960 &lt;/category&gt;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 &lt;category&gt;
<a name="l00963"></a>00963 &lt;cattitle&gt;Object Functions: attributes (<span class="keywordtype">object</span> attributes)&lt;/cattitle&gt;
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 <span class="comment">// function: object_addattr</span><span class="comment"></span>
<a name="l00966"></a>00966 <span class="comment">/**</span>
<a name="l00967"></a>00967 <span class="comment"> * Attaches an attribute directly to an object. </span>
<a name="l00968"></a>00968 <span class="comment"> *</span>
<a name="l00969"></a>00969 <span class="comment"> * @param   x       An object to which the attribute should be attached</span>
<a name="l00970"></a>00970 <span class="comment"> * @param   attr    The attribute's pointerâ€”this should be a pointer returned from &lt;tt&gt;attribute_new&lt;/tt&gt;, &lt;tt&gt;attr_offset_new&lt;/tt&gt; or &lt;tt&gt;attr_offset_array_new&lt;/tt&gt;.</span>
<a name="l00971"></a>00971 <span class="comment"> *</span>
<a name="l00972"></a>00972 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00973"></a>00973 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00974"></a>00974 <span class="comment"> *</span>
<a name="l00975"></a>00975 <span class="comment"> */</span>
<a name="l00976"></a>00976 
<a name="l00977"></a>00977 <span class="comment">// function: object_deleteattr</span><span class="comment"></span>
<a name="l00978"></a>00978 <span class="comment">/**</span>
<a name="l00979"></a>00979 <span class="comment"> * Detach an attribute from an object that was previously attached with &lt;tt&gt;object_addattr&lt;/tt&gt;. The function will also free all memory associated with the attribute. If you only wish to detach the attribute, without freeing it, see the &lt;tt&gt;object_chuckattr&lt;/tt&gt; function, below.</span>
<a name="l00980"></a>00980 <span class="comment"> *</span>
<a name="l00981"></a>00981 <span class="comment"> * @param   x           The object to which the attribute is attached</span>
<a name="l00982"></a>00982 <span class="comment"> * @param   attrsym     The attribute's name</span>
<a name="l00983"></a>00983 <span class="comment"> *</span>
<a name="l00984"></a>00984 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00985"></a>00985 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00986"></a>00986 <span class="comment"> *</span>
<a name="l00987"></a>00987 <span class="comment"> */</span>
<a name="l00988"></a>00988 
<a name="l00989"></a>00989 <span class="comment">// function: object_chuckattr</span><span class="comment"></span>
<a name="l00990"></a>00990 <span class="comment">/**</span>
<a name="l00991"></a>00991 <span class="comment"> * Detach an attribute from an object that was previously attached with &lt;tt&gt;object_addattr&lt;/tt&gt;. This function will not free the attribute (use &lt;tt&gt;object_free&lt;/tt&gt; to do this manually).</span>
<a name="l00992"></a>00992 <span class="comment"> *</span>
<a name="l00993"></a>00993 <span class="comment"> * @param   x           The object to which the attribute is attached</span>
<a name="l00994"></a>00994 <span class="comment"> * @param   attrsym     The attribute's name</span>
<a name="l00995"></a>00995 <span class="comment"> *</span>
<a name="l00996"></a>00996 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l00997"></a>00997 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l00998"></a>00998 <span class="comment"> *</span>
<a name="l00999"></a>00999 <span class="comment"> */</span>
<a name="l01000"></a>01000 
<a name="l01001"></a>01001 &lt;/category&gt;
<a name="l01002"></a>01002 
<a name="l01003"></a>01003 &lt;category&gt;
<a name="l01004"></a>01004 &lt;cattitle&gt;Attribute Functions: attribute arguments&lt;/cattitle&gt;<span class="comment"></span>
<a name="l01005"></a>01005 <span class="comment">/**</span>
<a name="l01006"></a>01006 <span class="comment"> *</span>
<a name="l01007"></a>01007 <span class="comment"> * @remark  Most objects which implement attributes support the use of attributes on a Max object's "command line"â€”written directly in the object box using the form &lt;tt&gt;@attributename value&lt;/tt&gt;. The following functions implement this functionality.</span>
<a name="l01008"></a>01008 <span class="comment"> *</span>
<a name="l01009"></a>01009 <span class="comment"> * @remark  NOTE: Because attribute arguments rely on atom lists of the &lt;tt&gt;argc&lt;/tt&gt;/&lt;tt&gt;argv&lt;/tt&gt; variety, developers who wish to support them must implement their objects as &lt;tt&gt;A_GIMME&lt;/tt&gt; in their call to &lt;tt&gt;class_new&lt;/tt&gt;.</span>
<a name="l01010"></a>01010 <span class="comment"> */</span>
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="comment">// function: attr_args_process</span><span class="comment"></span>
<a name="l01013"></a>01013 <span class="comment">/**</span>
<a name="l01014"></a>01014 <span class="comment"> * Take an atom list and properly set any attributes described within. This function is typically used in an object's &lt;tt&gt;new&lt;/tt&gt; method to conveniently process attribute arguments.</span>
<a name="l01015"></a>01015 <span class="comment"> *</span>
<a name="l01016"></a>01016 <span class="comment"> * @param   x       The object whose attributes will be processed</span>
<a name="l01017"></a>01017 <span class="comment"> * @param   ac      The count of t_atoms in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l01018"></a>01018 <span class="comment"> * @param   av      An atom list</span>
<a name="l01019"></a>01019 <span class="comment"> *</span>
<a name="l01020"></a>01020 <span class="comment"> * @remark  Here is a typical example of usage:</span>
<a name="l01021"></a>01021 <span class="comment">@code</span>
<a name="l01022"></a>01022 <span class="comment">void *myobject_new(t_symbol *s, long ac, t_atom *av)</span>
<a name="l01023"></a>01023 <span class="comment">{</span>
<a name="l01024"></a>01024 <span class="comment">    t_myobject *x = NULL;</span>
<a name="l01025"></a>01025 <span class="comment"></span>
<a name="l01026"></a>01026 <span class="comment">    if (x=(t_myobject *)object_alloc(myobject_class))</span>
<a name="l01027"></a>01027 <span class="comment">    {</span>
<a name="l01028"></a>01028 <span class="comment">        // initialize any data before processing</span>
<a name="l01029"></a>01029 <span class="comment">        // attributes to avoid overwriting </span>
<a name="l01030"></a>01030 <span class="comment">        // attribute argument-set values</span>
<a name="l01031"></a>01031 <span class="comment">        x-&gt;data = 0; </span>
<a name="l01032"></a>01032 <span class="comment"></span>
<a name="l01033"></a>01033 <span class="comment">        // process attr args, if any</span>
<a name="l01034"></a>01034 <span class="comment">        attr_args_process(x, ac, av);</span>
<a name="l01035"></a>01035 <span class="comment">    }</span>
<a name="l01036"></a>01036 <span class="comment">    return x;</span>
<a name="l01037"></a>01037 <span class="comment">}</span>
<a name="l01038"></a>01038 <span class="comment">@endcode</span>
<a name="l01039"></a>01039 <span class="comment"> *</span>
<a name="l01040"></a>01040 <span class="comment"> */</span>
<a name="l01041"></a>01041 
<a name="l01042"></a>01042 <span class="comment">// function: attr_args_offset</span><span class="comment"></span>
<a name="l01043"></a>01043 <span class="comment">/**</span>
<a name="l01044"></a>01044 <span class="comment"> * Determines the point in an atom list where attribute arguments begin. Developers can use this function to assist in the manual processing of attribute arguments, when attr_args_process doesn't provide the correct functionality for a particular purpose.</span>
<a name="l01045"></a>01045 <span class="comment"> *</span>
<a name="l01046"></a>01046 <span class="comment"> * @param   ac      The count of t_atoms in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l01047"></a>01047 <span class="comment"> * @param   av      An atom list</span>
<a name="l01048"></a>01048 <span class="comment"> *</span>
<a name="l01049"></a>01049 <span class="comment"> * @return  This function returns an offset into the atom list, where the first attribute argument occurs. For instance, the atom list &lt;tt&gt;foo bar 3.0 @mode 6&lt;/tt&gt; would cause &lt;tt&gt;attr_args_offset&lt;/tt&gt; to return 3 (the attribute &lt;tt&gt;mode&lt;/tt&gt; appears at position 3 in the atom list).</span>
<a name="l01050"></a>01050 <span class="comment"> *</span>
<a name="l01051"></a>01051 <span class="comment"> */</span>
<a name="l01052"></a>01052 
<a name="l01053"></a>01053 &lt;/category&gt;
<a name="l01054"></a>01054 
<a name="l01055"></a>01055 &lt;category&gt;
<a name="l01056"></a>01056 &lt;cattitle&gt;Object Functions: attribute utility functions (single value functions)&lt;/cattitle&gt;
<a name="l01057"></a>01057 
<a name="l01058"></a>01058 <span class="comment">// function: object_attr_getlong</span><span class="comment"></span>
<a name="l01059"></a>01059 <span class="comment">/**</span>
<a name="l01060"></a>01060 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. </span>
<a name="l01061"></a>01061 <span class="comment"> *</span>
<a name="l01062"></a>01062 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01063"></a>01063 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01064"></a>01064 <span class="comment"> *</span>
<a name="l01065"></a>01065 <span class="comment"> * @return  This function returns the value of the specified attribute, if successful, or 0, if unsuccessful.</span>
<a name="l01066"></a>01066 <span class="comment"> *</span>
<a name="l01067"></a>01067 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01068"></a>01068 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01069"></a>01069 <span class="comment"> *</span>
<a name="l01070"></a>01070 <span class="comment"> */</span>
<a name="l01071"></a>01071 
<a name="l01072"></a>01072 <span class="comment">// function: object_attr_getfloat</span><span class="comment"></span>
<a name="l01073"></a>01073 <span class="comment">/**</span>
<a name="l01074"></a>01074 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. </span>
<a name="l01075"></a>01075 <span class="comment"> *</span>
<a name="l01076"></a>01076 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01077"></a>01077 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01078"></a>01078 <span class="comment"> *</span>
<a name="l01079"></a>01079 <span class="comment"> * @return  This function returns the value of the specified attribute, if successful, or 0, if unsuccessful.</span>
<a name="l01080"></a>01080 <span class="comment"> *</span>
<a name="l01081"></a>01081 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01082"></a>01082 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01083"></a>01083 <span class="comment"> *</span>
<a name="l01084"></a>01084 <span class="comment"> */</span>
<a name="l01085"></a>01085 
<a name="l01086"></a>01086 <span class="comment">// function: object_attr_getsym</span><span class="comment"></span>
<a name="l01087"></a>01087 <span class="comment">/**</span>
<a name="l01088"></a>01088 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. </span>
<a name="l01089"></a>01089 <span class="comment"> *</span>
<a name="l01090"></a>01090 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01091"></a>01091 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01092"></a>01092 <span class="comment"> *</span>
<a name="l01093"></a>01093 <span class="comment"> * @return  This function returns the value of the specified attribute, if successful, or the empty symbol (equivalent to &lt;tt&gt;gensym("")&lt;/tt&gt; or &lt;tt&gt;_sym_nothing&lt;/tt&gt;), if unsuccessful.</span>
<a name="l01094"></a>01094 <span class="comment"> *</span>
<a name="l01095"></a>01095 <span class="comment"> */</span>
<a name="l01096"></a>01096 
<a name="l01097"></a>01097 <span class="comment">// function: object_attr_setlong</span><span class="comment"></span>
<a name="l01098"></a>01098 <span class="comment">/**</span>
<a name="l01099"></a>01099 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01100"></a>01100 <span class="comment"> *</span>
<a name="l01101"></a>01101 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01102"></a>01102 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01103"></a>01103 <span class="comment"> * @param   c       An integer value; the new value for the attribute</span>
<a name="l01104"></a>01104 <span class="comment"> *</span>
<a name="l01105"></a>01105 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01106"></a>01106 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01107"></a>01107 <span class="comment"> *</span>
<a name="l01108"></a>01108 <span class="comment"> */</span>
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 <span class="comment">// function: object_attr_setfloat</span><span class="comment"></span>
<a name="l01111"></a>01111 <span class="comment">/**</span>
<a name="l01112"></a>01112 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01113"></a>01113 <span class="comment"> *</span>
<a name="l01114"></a>01114 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01115"></a>01115 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01116"></a>01116 <span class="comment"> * @param   c       An floating point value; the new value for the attribute</span>
<a name="l01117"></a>01117 <span class="comment"> *</span>
<a name="l01118"></a>01118 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01119"></a>01119 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01120"></a>01120 <span class="comment"> *</span>
<a name="l01121"></a>01121 <span class="comment"> */</span>
<a name="l01122"></a>01122 
<a name="l01123"></a>01123 <span class="comment">// function: object_attr_setsym</span><span class="comment"></span>
<a name="l01124"></a>01124 <span class="comment">/**</span>
<a name="l01125"></a>01125 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01126"></a>01126 <span class="comment"> *</span>
<a name="l01127"></a>01127 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01128"></a>01128 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01129"></a>01129 <span class="comment"> * @param   c       A t_symbol *; the new value for the attribute</span>
<a name="l01130"></a>01130 <span class="comment"> *</span>
<a name="l01131"></a>01131 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01132"></a>01132 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01133"></a>01133 <span class="comment"> *</span>
<a name="l01134"></a>01134 <span class="comment"> */</span>
<a name="l01135"></a>01135 
<a name="l01136"></a>01136 &lt;/category&gt;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 &lt;category&gt;
<a name="l01139"></a>01139 &lt;cattitle&gt;Object Functions: attribute utility functions (multiple value functions)&lt;/cattitle&gt;
<a name="l01140"></a>01140  *
<a name="l01141"></a>01141  * @remark  The following functions provide access to arrays of attribute values. They can be used with any attribute.
<a name="l01142"></a>01142 
<a name="l01143"></a>01143 <span class="comment">// function: object_attr_getlong_array</span><span class="comment"></span>
<a name="l01144"></a>01144 <span class="comment">/**</span>
<a name="l01145"></a>01145 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. This function uses a developer-allocated array to copy data to. Developers wishing to retrieve the value of an attribute without pre-allocating memory should refer to the &lt;tt&gt;object_attr_getvalueof&lt;/tt&gt; function.</span>
<a name="l01146"></a>01146 <span class="comment"> *</span>
<a name="l01147"></a>01147 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01148"></a>01148 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01149"></a>01149 <span class="comment"> * @param   max     The number of array elements in &lt;tt&gt;vals&lt;/tt&gt;. The function will take care not to overwrite the bounds of the array.</span>
<a name="l01150"></a>01150 <span class="comment"> * @param   vals    Pointer to the first element of a pre-allocated array of long data.</span>
<a name="l01151"></a>01151 <span class="comment"> *</span>
<a name="l01152"></a>01152 <span class="comment"> * @return  This function returns the number of elements copied into &lt;tt&gt;vals&lt;/tt&gt;.</span>
<a name="l01153"></a>01153 <span class="comment"> *</span>
<a name="l01154"></a>01154 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01155"></a>01155 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01156"></a>01156 <span class="comment"> *</span>
<a name="l01157"></a>01157 <span class="comment"> */</span>
<a name="l01158"></a>01158 
<a name="l01159"></a>01159 <span class="comment">// function: object_attr_getchar_array</span><span class="comment"></span>
<a name="l01160"></a>01160 <span class="comment">/**</span>
<a name="l01161"></a>01161 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. This function uses a developer-allocated array to copy data to. Developers wishing to retrieve the value of an attribute without pre-allocating memory should refer to the &lt;tt&gt;object_attr_getvalueof&lt;/tt&gt; function.</span>
<a name="l01162"></a>01162 <span class="comment"> *</span>
<a name="l01163"></a>01163 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01164"></a>01164 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01165"></a>01165 <span class="comment"> * @param   max     The number of array elements in &lt;tt&gt;vals&lt;/tt&gt;. The function will take care not to overwrite the bounds of the array.</span>
<a name="l01166"></a>01166 <span class="comment"> * @param   vals    Pointer to the first element of a pre-allocated array of unsigned char data.</span>
<a name="l01167"></a>01167 <span class="comment"> *</span>
<a name="l01168"></a>01168 <span class="comment"> * @return  This function returns the number of elements copied into &lt;tt&gt;vals&lt;/tt&gt;.</span>
<a name="l01169"></a>01169 <span class="comment"> *</span>
<a name="l01170"></a>01170 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01171"></a>01171 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01172"></a>01172 <span class="comment"> *</span>
<a name="l01173"></a>01173 <span class="comment"> */</span>
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 <span class="comment">// function: object_attr_getfloat_array</span><span class="comment"></span>
<a name="l01176"></a>01176 <span class="comment">/**</span>
<a name="l01177"></a>01177 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. This function uses a developer-allocated array to copy data to. Developers wishing to retrieve the value of an attribute without pre-allocating memory should refer to the &lt;tt&gt;object_attr_getvalueof&lt;/tt&gt; function.</span>
<a name="l01178"></a>01178 <span class="comment"> *</span>
<a name="l01179"></a>01179 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01180"></a>01180 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01181"></a>01181 <span class="comment"> * @param   max     The number of array elements in &lt;tt&gt;vals&lt;/tt&gt;. The function will take care not to overwrite the bounds of the array.</span>
<a name="l01182"></a>01182 <span class="comment"> * @param   vals    Pointer to the first element of a pre-allocated array of float data.</span>
<a name="l01183"></a>01183 <span class="comment"> *</span>
<a name="l01184"></a>01184 <span class="comment"> * @return  This function returns the number of elements copied into &lt;tt&gt;vals&lt;/tt&gt;.</span>
<a name="l01185"></a>01185 <span class="comment"> *</span>
<a name="l01186"></a>01186 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01187"></a>01187 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01188"></a>01188 <span class="comment"> *</span>
<a name="l01189"></a>01189 <span class="comment"> */</span>
<a name="l01190"></a>01190 
<a name="l01191"></a>01191 <span class="comment">// function: object_attr_getdouble_array</span><span class="comment"></span>
<a name="l01192"></a>01192 <span class="comment">/**</span>
<a name="l01193"></a>01193 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. This function uses a developer-allocated array to copy data to. Developers wishing to retrieve the value of an attribute without pre-allocating memory should refer to the &lt;tt&gt;object_attr_getvalueof&lt;/tt&gt; function.</span>
<a name="l01194"></a>01194 <span class="comment"> *</span>
<a name="l01195"></a>01195 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01196"></a>01196 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01197"></a>01197 <span class="comment"> * @param   max     The number of array elements in &lt;tt&gt;vals&lt;/tt&gt;. The function will take care not to overwrite the bounds of the array.</span>
<a name="l01198"></a>01198 <span class="comment"> * @param   vals    Pointer to the first element of a pre-allocated array of double data.</span>
<a name="l01199"></a>01199 <span class="comment"> *</span>
<a name="l01200"></a>01200 <span class="comment"> * @return  This function returns the number of elements copied into &lt;tt&gt;vals&lt;/tt&gt;.</span>
<a name="l01201"></a>01201 <span class="comment"> *</span>
<a name="l01202"></a>01202 <span class="comment"> * @remark  If the attribute is not of the type specified by the function, the </span>
<a name="l01203"></a>01203 <span class="comment"> *          function will attempt to coerce a valid value from the attribute.</span>
<a name="l01204"></a>01204 <span class="comment"> *</span>
<a name="l01205"></a>01205 <span class="comment"> */</span>
<a name="l01206"></a>01206 
<a name="l01207"></a>01207 <span class="comment">// function: object_attr_getsym_array</span><span class="comment"></span>
<a name="l01208"></a>01208 <span class="comment">/**</span>
<a name="l01209"></a>01209 <span class="comment"> * Retrieves the value of an attribute, given its parent object and name. This function uses a developer-allocated array to copy data to. Developers wishing to retrieve the value of an attribute without pre-allocating memory should refer to the &lt;tt&gt;object_attr_getvalueof&lt;/tt&gt; function.</span>
<a name="l01210"></a>01210 <span class="comment"> *</span>
<a name="l01211"></a>01211 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01212"></a>01212 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01213"></a>01213 <span class="comment"> * @param   max     The number of array elements in &lt;tt&gt;vals&lt;/tt&gt;. The function will take care not to overwrite the bounds of the array.</span>
<a name="l01214"></a>01214 <span class="comment"> * @param   vals    Pointer to the first element of a pre-allocated array of t_symbol *s.</span>
<a name="l01215"></a>01215 <span class="comment"> *</span>
<a name="l01216"></a>01216 <span class="comment"> * @return  This function returns the number of elements copied into &lt;tt&gt;vals&lt;/tt&gt;.</span>
<a name="l01217"></a>01217 <span class="comment"> *</span>
<a name="l01218"></a>01218 <span class="comment"> */</span>
<a name="l01219"></a>01219 
<a name="l01220"></a>01220 <span class="comment">// function: object_attr_setlong_array</span><span class="comment"></span>
<a name="l01221"></a>01221 <span class="comment">/**</span>
<a name="l01222"></a>01222 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01223"></a>01223 <span class="comment"> *</span>
<a name="l01224"></a>01224 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01225"></a>01225 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01226"></a>01226 <span class="comment"> * @param   count   The number of array elements in vals</span>
<a name="l01227"></a>01227 <span class="comment"> * @param   vals    Pointer to the first element of an array of long data</span>
<a name="l01228"></a>01228 <span class="comment"> *</span>
<a name="l01229"></a>01229 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01230"></a>01230 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01231"></a>01231 <span class="comment"> *</span>
<a name="l01232"></a>01232 <span class="comment"> */</span>
<a name="l01233"></a>01233 
<a name="l01234"></a>01234 <span class="comment">// function: object_attr_setchar_array</span><span class="comment"></span>
<a name="l01235"></a>01235 <span class="comment">/**</span>
<a name="l01236"></a>01236 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01237"></a>01237 <span class="comment"> *</span>
<a name="l01238"></a>01238 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01239"></a>01239 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01240"></a>01240 <span class="comment"> * @param   count   The number of array elements in vals</span>
<a name="l01241"></a>01241 <span class="comment"> * @param   vals    Pointer to the first element of an array of unsigned char data</span>
<a name="l01242"></a>01242 <span class="comment"> *</span>
<a name="l01243"></a>01243 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01244"></a>01244 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01245"></a>01245 <span class="comment"> *</span>
<a name="l01246"></a>01246 <span class="comment"> */</span>
<a name="l01247"></a>01247 
<a name="l01248"></a>01248 <span class="comment">// function: object_attr_setfloat_array</span><span class="comment"></span>
<a name="l01249"></a>01249 <span class="comment">/**</span>
<a name="l01250"></a>01250 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01251"></a>01251 <span class="comment"> *</span>
<a name="l01252"></a>01252 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01253"></a>01253 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01254"></a>01254 <span class="comment"> * @param   count   The number of array elements in vals</span>
<a name="l01255"></a>01255 <span class="comment"> * @param   vals    Pointer to the first element of an array of float data</span>
<a name="l01256"></a>01256 <span class="comment"> *</span>
<a name="l01257"></a>01257 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01258"></a>01258 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01259"></a>01259 <span class="comment"> *</span>
<a name="l01260"></a>01260 <span class="comment"> */</span>
<a name="l01261"></a>01261 
<a name="l01262"></a>01262 <span class="comment">// function: object_attr_setdouble_array</span><span class="comment"></span>
<a name="l01263"></a>01263 <span class="comment">/**</span>
<a name="l01264"></a>01264 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01265"></a>01265 <span class="comment"> *</span>
<a name="l01266"></a>01266 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01267"></a>01267 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01268"></a>01268 <span class="comment"> * @param   count   The number of array elements in vals</span>
<a name="l01269"></a>01269 <span class="comment"> * @param   vals    Pointer to the first element of an array of double data</span>
<a name="l01270"></a>01270 <span class="comment"> *</span>
<a name="l01271"></a>01271 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01272"></a>01272 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01273"></a>01273 <span class="comment"> *</span>
<a name="l01274"></a>01274 <span class="comment"> */</span>
<a name="l01275"></a>01275 
<a name="l01276"></a>01276 <span class="comment">// function: object_attr_setsym_array</span><span class="comment"></span>
<a name="l01277"></a>01277 <span class="comment">/**</span>
<a name="l01278"></a>01278 <span class="comment"> * Sets the value of an attribute, given its parent object and name. The function will call the attribute's &lt;tt&gt;set&lt;/tt&gt; method, using the data provided.</span>
<a name="l01279"></a>01279 <span class="comment"> *</span>
<a name="l01280"></a>01280 <span class="comment"> * @param   x       The attribute's parent object</span>
<a name="l01281"></a>01281 <span class="comment"> * @param   s       The attribute's name</span>
<a name="l01282"></a>01282 <span class="comment"> * @param   count   The number of array elements in vals</span>
<a name="l01283"></a>01283 <span class="comment"> * @param   vals    Pointer to the first element of an array of t_symbol *s</span>
<a name="l01284"></a>01284 <span class="comment"> *</span>
<a name="l01285"></a>01285 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01286"></a>01286 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01287"></a>01287 <span class="comment"> *</span>
<a name="l01288"></a>01288 <span class="comment"> */</span>
<a name="l01289"></a>01289 
<a name="l01290"></a>01290 &lt;/category&gt;
<a name="l01291"></a>01291 
<a name="l01292"></a>01292 &lt;category&gt;
<a name="l01293"></a>01293 &lt;cattitle&gt;Atom Utilities&lt;/cattitle&gt;
<a name="l01294"></a>01294  *
<a name="l01295"></a>01295  * @remark  Also present in <span class="stringliteral">"ext_obex.c"</span> are some <span class="keyword">new</span> atom utilities, used to <span class="keyword">get</span> and <span class="keyword">set</span> <a class="code" href="structt__atom.html" title="An atom is a typed datum.">t_atom</a> values. Direct access to t_atoms continues to be supported, but many developers may find these utilities more succinct and safe. 
<a name="l01296"></a>01296 
<a name="l01297"></a>01297 <span class="comment">// function: atom_setlong</span><span class="comment"></span>
<a name="l01298"></a>01298 <span class="comment">/**</span>
<a name="l01299"></a>01299 <span class="comment"> * Inserts an integer into a t_atom and change the t_atom's type to &lt;tt&gt;A_LONG&lt;/tt&gt;. </span>
<a name="l01300"></a>01300 <span class="comment"> *</span>
<a name="l01301"></a>01301 <span class="comment"> * @param   a       Pointer to a t_atom whose value and type will be modified</span>
<a name="l01302"></a>01302 <span class="comment"> * @param   b       Integer value to copy into the t_atom</span>
<a name="l01303"></a>01303 <span class="comment"> *</span>
<a name="l01304"></a>01304 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01305"></a>01305 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01306"></a>01306 <span class="comment"> *</span>
<a name="l01307"></a>01307 <span class="comment"> */</span>
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 <span class="comment">// function: atom_setfloat</span><span class="comment"></span>
<a name="l01310"></a>01310 <span class="comment">/**</span>
<a name="l01311"></a>01311 <span class="comment"> * Inserts a floating point number into a t_atom and change the t_atom's type to &lt;tt&gt;A_FLOAT&lt;/tt&gt;. </span>
<a name="l01312"></a>01312 <span class="comment"> *</span>
<a name="l01313"></a>01313 <span class="comment"> * @param   a       Pointer to a t_atom whose value and type will be modified</span>
<a name="l01314"></a>01314 <span class="comment"> * @param   b       Floating point value to copy into the t_atom</span>
<a name="l01315"></a>01315 <span class="comment"> *</span>
<a name="l01316"></a>01316 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01317"></a>01317 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01318"></a>01318 <span class="comment"> *</span>
<a name="l01319"></a>01319 <span class="comment"> */</span>
<a name="l01320"></a>01320 
<a name="l01321"></a>01321 <span class="comment">// function: atom_setsym</span><span class="comment"></span>
<a name="l01322"></a>01322 <span class="comment">/**</span>
<a name="l01323"></a>01323 <span class="comment"> * Inserts a t_symbol * into a t_atom and change the t_atom's type to &lt;tt&gt;A_SYM&lt;/tt&gt;. </span>
<a name="l01324"></a>01324 <span class="comment"> *</span>
<a name="l01325"></a>01325 <span class="comment"> * @param   a       Pointer to a t_atom whose value and type will be modified</span>
<a name="l01326"></a>01326 <span class="comment"> * @param   b       Pointer to a t_symbol to copy into the t_atom</span>
<a name="l01327"></a>01327 <span class="comment"> *</span>
<a name="l01328"></a>01328 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01329"></a>01329 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01330"></a>01330 <span class="comment"> *</span>
<a name="l01331"></a>01331 <span class="comment"> */</span>
<a name="l01332"></a>01332 
<a name="l01333"></a>01333 <span class="comment">// function: atom_setobj</span><span class="comment"></span>
<a name="l01334"></a>01334 <span class="comment">/**</span>
<a name="l01335"></a>01335 <span class="comment"> * Inserts a generic pointer value into a t_atom and change the t_atom's type to &lt;tt&gt;A_OBJ&lt;/tt&gt;. </span>
<a name="l01336"></a>01336 <span class="comment"> *</span>
<a name="l01337"></a>01337 <span class="comment"> * @param   a       Pointer to a t_atom whose value and type will be modified</span>
<a name="l01338"></a>01338 <span class="comment"> * @param   b       Pointer value to copy into the t_atom</span>
<a name="l01339"></a>01339 <span class="comment"> *</span>
<a name="l01340"></a>01340 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01341"></a>01341 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01342"></a>01342 <span class="comment"> *</span>
<a name="l01343"></a>01343 <span class="comment"> */</span>
<a name="l01344"></a>01344 
<a name="l01345"></a>01345 <span class="comment">// function: atom_getlong</span><span class="comment"></span>
<a name="l01346"></a>01346 <span class="comment">/**</span>
<a name="l01347"></a>01347 <span class="comment"> * Retrieves a long integer value from a t_atom. </span>
<a name="l01348"></a>01348 <span class="comment"> *</span>
<a name="l01349"></a>01349 <span class="comment"> * @param   a       Pointer to a t_atom whose value is of interest</span>
<a name="l01350"></a>01350 <span class="comment"> *</span>
<a name="l01351"></a>01351 <span class="comment"> * @return  This function returns the value of the specified t_atom as an integer, if possible. Otherwise, it returns 0. </span>
<a name="l01352"></a>01352 <span class="comment"> *</span>
<a name="l01353"></a>01353 <span class="comment"> * @remark  If the t_atom is not of the type specified by the function, the function will attempt to coerce a valid value from the t_atom. For instance, if the t_atom &lt;tt&gt;at&lt;/tt&gt; is set to type &lt;tt&gt;A_FLOAT&lt;/tt&gt; with a value of &lt;tt&gt;3.7&lt;/tt&gt;, the &lt;tt&gt;atom_getlong&lt;/tt&gt; function will return the truncated integer value of &lt;tt&gt;at&lt;/tt&gt;, or &lt;tt&gt;3&lt;/tt&gt;. An attempt is also made to coerce t_symbol data.</span>
<a name="l01354"></a>01354 <span class="comment"> *</span>
<a name="l01355"></a>01355 <span class="comment"> */</span>
<a name="l01356"></a>01356 
<a name="l01357"></a>01357 <span class="comment">// function: atom_getfloat</span><span class="comment"></span>
<a name="l01358"></a>01358 <span class="comment">/**</span>
<a name="l01359"></a>01359 <span class="comment"> * Retrieves a floating point value from a t_atom. </span>
<a name="l01360"></a>01360 <span class="comment"> *</span>
<a name="l01361"></a>01361 <span class="comment"> * @param   a       Pointer to a t_atom whose value is of interest</span>
<a name="l01362"></a>01362 <span class="comment"> *</span>
<a name="l01363"></a>01363 <span class="comment"> * @return  This function returns the value of the specified t_atom as a floating point number, if possible. Otherwise, it returns 0. </span>
<a name="l01364"></a>01364 <span class="comment"> *</span>
<a name="l01365"></a>01365 <span class="comment"> * @remark  If the t_atom is not of the type specified by the function, the function will attempt to coerce a valid value from the t_atom. For instance, if the t_atom &lt;tt&gt;at&lt;/tt&gt; is set to type &lt;tt&gt;A_LONG&lt;/tt&gt; with a value of &lt;tt&gt;5&lt;/tt&gt;, the &lt;tt&gt;atom_getfloat&lt;/tt&gt; function will return the value of &lt;tt&gt;at&lt;/tt&gt; as a float, or &lt;tt&gt;5.0&lt;/tt&gt;. An attempt is also made to coerce t_symbol data.</span>
<a name="l01366"></a>01366 <span class="comment"> *</span>
<a name="l01367"></a>01367 <span class="comment"> */</span>
<a name="l01368"></a>01368 
<a name="l01369"></a>01369 <span class="comment">// function: atom_getsym</span><span class="comment"></span>
<a name="l01370"></a>01370 <span class="comment">/**</span>
<a name="l01371"></a>01371 <span class="comment"> * Retrieves a t_symbol * value from a t_atom. </span>
<a name="l01372"></a>01372 <span class="comment"> *</span>
<a name="l01373"></a>01373 <span class="comment"> * @param   a       Pointer to a t_atom whose value is of interest</span>
<a name="l01374"></a>01374 <span class="comment"> *</span>
<a name="l01375"></a>01375 <span class="comment"> * @return  This function returns the value of the specified &lt;tt&gt;A_SYM&lt;/tt&gt;-typed t_atom, if possible. Otherwise, it returns an empty, but valid, t_symbol *, equivalent to &lt;tt&gt;gensym("")&lt;/tt&gt;, or &lt;tt&gt;_sym_nothing&lt;/tt&gt;. </span>
<a name="l01376"></a>01376 <span class="comment"> *</span>
<a name="l01377"></a>01377 <span class="comment"> * @remark  No attempt is made to coerce non-matching data types. </span>
<a name="l01378"></a>01378 <span class="comment"> *</span>
<a name="l01379"></a>01379 <span class="comment"> */</span>
<a name="l01380"></a>01380 
<a name="l01381"></a>01381 <span class="comment">// function: atom_getobj</span><span class="comment"></span>
<a name="l01382"></a>01382 <span class="comment">/**</span>
<a name="l01383"></a>01383 <span class="comment"> * Retrieves a generic pointer value from a t_atom. </span>
<a name="l01384"></a>01384 <span class="comment"> *</span>
<a name="l01385"></a>01385 <span class="comment"> * @param   a       Pointer to a t_atom whose value is of interest</span>
<a name="l01386"></a>01386 <span class="comment"> *</span>
<a name="l01387"></a>01387 <span class="comment"> * @return  This function returns the value of the specified &lt;tt&gt;A_OBJ&lt;/tt&gt;-typed t_atom, if possible. Otherwise, it returns &lt;tt&gt;NULL&lt;/tt&gt;. </span>
<a name="l01388"></a>01388 <span class="comment"> *</span>
<a name="l01389"></a>01389 <span class="comment"> * @remark  If the t_atom is typed &lt;tt&gt;A_LONG&lt;/tt&gt;, but the data falls outside of the range 0-255, the data is truncated to that range before output.</span>
<a name="l01390"></a>01390 <span class="comment"> *</span>
<a name="l01391"></a>01391 <span class="comment"> */</span>
<a name="l01392"></a>01392 
<a name="l01393"></a>01393 <span class="comment">// function: atom_getcharfix</span><span class="comment"></span>
<a name="l01394"></a>01394 <span class="comment">/**</span>
<a name="l01395"></a>01395 <span class="comment"> * Retrieves an unsigned integer value between 0 and 255 from a t_atom. </span>
<a name="l01396"></a>01396 <span class="comment"> *</span>
<a name="l01397"></a>01397 <span class="comment"> * @param   a       Pointer to a t_atom whose value is of interest</span>
<a name="l01398"></a>01398 <span class="comment"> *</span>
<a name="l01399"></a>01399 <span class="comment"> * @return  This function returns the value of the specified t_atom as an integer between 0 and 255, if possible. Otherwise, it returns 0. </span>
<a name="l01400"></a>01400 <span class="comment"> *</span>
<a name="l01401"></a>01401 <span class="comment"> * @remark  If the t_atom is typed &lt;tt&gt;A_LONG&lt;/tt&gt;, but the data falls outside of the range 0-255, the data is truncated to that range before output.</span>
<a name="l01402"></a>01402 <span class="comment"> *</span>
<a name="l01403"></a>01403 <span class="comment"> * @remark  If the t_atom is typed &lt;tt&gt;A_FLOAT&lt;/tt&gt;, the floating point value is multiplied by 255. and truncated to the range 0-255 before output. For example, the floating point value &lt;tt&gt;0.5&lt;/tt&gt; would be output from atom_getcharfix as &lt;tt&gt;127&lt;/tt&gt; (0.5 * 255. = 127.5). </span>
<a name="l01404"></a>01404 <span class="comment"> *</span>
<a name="l01405"></a>01405 <span class="comment"> * @remark  No attempt is also made to coerce t_symbol data. </span>
<a name="l01406"></a>01406 <span class="comment"> *</span>
<a name="l01407"></a>01407 <span class="comment"> */</span>
<a name="l01408"></a>01408 
<a name="l01409"></a>01409 <span class="comment">// function: atom_arg_getlong</span><span class="comment"></span>
<a name="l01410"></a>01410 <span class="comment">/**</span>
<a name="l01411"></a>01411 <span class="comment"> * Retrieves the integer value of a particular t_atom from an atom list, if the atom exists.</span>
<a name="l01412"></a>01412 <span class="comment"> *</span>
<a name="l01413"></a>01413 <span class="comment"> * @param   c       Pointer to a long variable to receive the atom's data if the function is successful.</span>
<a name="l01414"></a>01414 <span class="comment"> * @param   idx     Offset into the atom list of the atom of interest, starting from 0. For instance, if you want data from the 3rd atom in the atom list, &lt;tt&gt;idx&lt;/tt&gt; should be set to 2.</span>
<a name="l01415"></a>01415 <span class="comment"> * @param   ac      Count of av.</span>
<a name="l01416"></a>01416 <span class="comment"> * @param   av      Pointer to the first t_atom of an atom list.</span>
<a name="l01417"></a>01417 <span class="comment"> *</span>
<a name="l01418"></a>01418 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01419"></a>01419 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01420"></a>01420 <span class="comment"> *</span>
<a name="l01421"></a>01421 <span class="comment"> * @remark  The &lt;tt&gt;atom_arg_getlong&lt;/tt&gt; function only changes the value of &lt;tt&gt;c&lt;/tt&gt; if the function is successful. For instance, the following code snippet illustrates a simple, but typical use:</span>
<a name="l01422"></a>01422 <span class="comment">@code</span>
<a name="l01423"></a>01423 <span class="comment">void myobject_mymessage(t_myobject *x, t_symbol *s, long ac, t_atom *av)</span>
<a name="l01424"></a>01424 <span class="comment">{</span>
<a name="l01425"></a>01425 <span class="comment">    long var = -1;</span>
<a name="l01426"></a>01426 <span class="comment"></span>
<a name="l01427"></a>01427 <span class="comment">    // here, we are expecting a value of 0 or greater</span>
<a name="l01428"></a>01428 <span class="comment">    atom_arg_getlong(&amp;var, 0, ac, av);</span>
<a name="l01429"></a>01429 <span class="comment">    if (val == -1) // i.e. unchanged</span>
<a name="l01430"></a>01430 <span class="comment">        post("it is likely that the user did not provide a valid argument");</span>
<a name="l01431"></a>01431 <span class="comment">    else {</span>
<a name="l01432"></a>01432 <span class="comment">        ...</span>
<a name="l01433"></a>01433 <span class="comment">    }</span>
<a name="l01434"></a>01434 <span class="comment">}</span>
<a name="l01435"></a>01435 <span class="comment">@endcode</span>
<a name="l01436"></a>01436 <span class="comment"> *</span>
<a name="l01437"></a>01437 <span class="comment"> */</span>
<a name="l01438"></a>01438 
<a name="l01439"></a>01439 <span class="comment">// function: atom_arg_getfloat</span><span class="comment"></span>
<a name="l01440"></a>01440 <span class="comment">/**</span>
<a name="l01441"></a>01441 <span class="comment"> * Retrieves the floating point value of a particular t_atom from an atom list, if the atom exists.</span>
<a name="l01442"></a>01442 <span class="comment"> *</span>
<a name="l01443"></a>01443 <span class="comment"> * @param   c       Pointer to a float variable to receive the atom's data if the function is successful. Otherwise, the value is left unchanged.</span>
<a name="l01444"></a>01444 <span class="comment"> * @param   idx     Offset into the atom list of the atom of interest, starting from 0. For instance, if you want data from the 3rd atom in the atom list, &lt;tt&gt;idx&lt;/tt&gt; should be set to 2.</span>
<a name="l01445"></a>01445 <span class="comment"> * @param   ac      Count of av.</span>
<a name="l01446"></a>01446 <span class="comment"> * @param   av      Pointer to the first t_atom of an atom list.</span>
<a name="l01447"></a>01447 <span class="comment"> *</span>
<a name="l01448"></a>01448 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01449"></a>01449 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01450"></a>01450 <span class="comment"> *</span>
<a name="l01451"></a>01451 <span class="comment"> */</span>
<a name="l01452"></a>01452 
<a name="l01453"></a>01453 <span class="comment">// function: atom_arg_getdouble</span><span class="comment"></span>
<a name="l01454"></a>01454 <span class="comment">/**</span>
<a name="l01455"></a>01455 <span class="comment"> * Retrieves the floating point value, as a double, of a particular t_atom from an atom list, if the atom exists.</span>
<a name="l01456"></a>01456 <span class="comment"> *</span>
<a name="l01457"></a>01457 <span class="comment"> * @param   c       Pointer to a double variable to receive the atom's data if the function is successful. Otherwise the value is left unchanged.</span>
<a name="l01458"></a>01458 <span class="comment"> * @param   idx     Offset into the atom list of the atom of interest, starting from 0. For instance, if you want data from the 3rd atom in the atom list, &lt;tt&gt;idx&lt;/tt&gt; should be set to 2.</span>
<a name="l01459"></a>01459 <span class="comment"> * @param   ac      Count of av.</span>
<a name="l01460"></a>01460 <span class="comment"> * @param   av      Pointer to the first t_atom of an atom list.</span>
<a name="l01461"></a>01461 <span class="comment"> *</span>
<a name="l01462"></a>01462 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01463"></a>01463 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01464"></a>01464 <span class="comment"> *</span>
<a name="l01465"></a>01465 <span class="comment"> */</span>
<a name="l01466"></a>01466 
<a name="l01467"></a>01467 <span class="comment">// function: atom_arg_getsym</span><span class="comment"></span>
<a name="l01468"></a>01468 <span class="comment">/**</span>
<a name="l01469"></a>01469 <span class="comment"> * Retrieves the t_symbol * value of a particular t_atom from an atom list, if the atom exists.</span>
<a name="l01470"></a>01470 <span class="comment"> *</span>
<a name="l01471"></a>01471 <span class="comment"> * @param   c       Pointer to a t_symbol * variable to receive the atom's data if the function is successful. Otherwise, the value is left unchanged.</span>
<a name="l01472"></a>01472 <span class="comment"> * @param   idx     Offset into the atom list of the atom of interest, starting from 0. For instance, if you want data from the 3rd atom in the atom list, &lt;tt&gt;idx&lt;/tt&gt; should be set to 2.</span>
<a name="l01473"></a>01473 <span class="comment"> * @param   ac      Count of av.</span>
<a name="l01474"></a>01474 <span class="comment"> * @param   av      Pointer to the first t_atom of an atom list.</span>
<a name="l01475"></a>01475 <span class="comment"> *</span>
<a name="l01476"></a>01476 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01477"></a>01477 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01478"></a>01478 <span class="comment"> *</span>
<a name="l01479"></a>01479 <span class="comment"> * @remark  The &lt;tt&gt;atom_arg_getsym&lt;/tt&gt; function only changes the value of &lt;tt&gt;c&lt;/tt&gt; if the function is successful. For instance, the following code snippet illustrates a simple, but typical use:</span>
<a name="l01480"></a>01480 <span class="comment">@code</span>
<a name="l01481"></a>01481 <span class="comment">void myobject_open(t_myobject *x, t_symbol *s, long ac, t_atom *av)</span>
<a name="l01482"></a>01482 <span class="comment">{</span>
<a name="l01483"></a>01483 <span class="comment">    t_symbol *filename = _sym_nothing;</span>
<a name="l01484"></a>01484 <span class="comment"></span>
<a name="l01485"></a>01485 <span class="comment">    // here, we are expecting a file name.</span>
<a name="l01486"></a>01486 <span class="comment">    // if we don't get it, open a dialog box </span>
<a name="l01487"></a>01487 <span class="comment">    atom_arg_getsym(&amp;filename, 0, ac, av);</span>
<a name="l01488"></a>01488 <span class="comment">    if (filename == _sym_nothing) { // i.e. unchanged</span>
<a name="l01489"></a>01489 <span class="comment">        // open the file dialog box,</span>
<a name="l01490"></a>01490 <span class="comment">        // get a value for filename</span>
<a name="l01491"></a>01491 <span class="comment">    }</span>
<a name="l01492"></a>01492 <span class="comment">    // do something with the filename</span>
<a name="l01493"></a>01493 <span class="comment">}</span>
<a name="l01494"></a>01494 <span class="comment">@endcode</span>
<a name="l01495"></a>01495 <span class="comment"> *</span>
<a name="l01496"></a>01496 <span class="comment"> */</span>
<a name="l01497"></a>01497 
<a name="l01498"></a>01498 &lt;/category&gt;
<a name="l01499"></a>01499 
<a name="l01500"></a>01500 &lt;category&gt;
<a name="l01501"></a>01501 &lt;cattitle&gt;Miscellaneous Utilities&lt;/cattitle&gt;
<a name="l01502"></a>01502 
<a name="l01503"></a>01503 <span class="comment">// function: symbol_unique</span><span class="comment"></span>
<a name="l01504"></a>01504 <span class="comment">/**</span>
<a name="l01505"></a>01505 <span class="comment"> * Generates a unique t_symbol *. The symbol will be formatted somewhat like "u123456789". </span>
<a name="l01506"></a>01506 <span class="comment"> *</span>
<a name="l01507"></a>01507 <span class="comment"> *</span>
<a name="l01508"></a>01508 <span class="comment"> * @return  This function returns a unique t_symbol *.</span>
<a name="l01509"></a>01509 <span class="comment"> *</span>
<a name="l01510"></a>01510 <span class="comment"> */</span>
<a name="l01511"></a>01511 
<a name="l01512"></a>01512 <span class="comment">// function: error_sym</span><span class="comment"></span>
<a name="l01513"></a>01513 <span class="comment">/**</span>
<a name="l01514"></a>01514 <span class="comment"> * Posts an error message to the Max window. This function is interrupt safe. </span>
<a name="l01515"></a>01515 <span class="comment"> *</span>
<a name="l01516"></a>01516 <span class="comment"> * @param   x       The object's pointer</span>
<a name="l01517"></a>01517 <span class="comment"> * @param   s       Symbol to be posted as an error in the Max window</span>
<a name="l01518"></a>01518 <span class="comment"> *</span>
<a name="l01519"></a>01519 <span class="comment"> */</span>
<a name="l01520"></a>01520 
<a name="l01521"></a>01521 <span class="comment">// function: post_sym</span><span class="comment"></span>
<a name="l01522"></a>01522 <span class="comment">/**</span>
<a name="l01523"></a>01523 <span class="comment"> * Posts a message to the Max window. This function is interrupt safe. </span>
<a name="l01524"></a>01524 <span class="comment"> *</span>
<a name="l01525"></a>01525 <span class="comment"> * @param   x       The object's pointer</span>
<a name="l01526"></a>01526 <span class="comment"> * @param   s       Symbol to be posted in the Max window</span>
<a name="l01527"></a>01527 <span class="comment"> *</span>
<a name="l01528"></a>01528 <span class="comment"> */</span>
<a name="l01529"></a>01529 
<a name="l01530"></a>01530 <span class="comment">// function: symbolarray_sort</span><span class="comment"></span>
<a name="l01531"></a>01531 <span class="comment">/**</span>
<a name="l01532"></a>01532 <span class="comment"> * Performs an ASCII sort on an array of t_symbol *s.</span>
<a name="l01533"></a>01533 <span class="comment"> *</span>
<a name="l01534"></a>01534 <span class="comment"> * @param   ac      The count of t_symbol *s in &lt;tt&gt;av&lt;/tt&gt;</span>
<a name="l01535"></a>01535 <span class="comment"> * @param   av      An array of t_symbol *s to be sorted</span>
<a name="l01536"></a>01536 <span class="comment"> *</span>
<a name="l01537"></a>01537 <span class="comment"> * @return  This function returns the error code &lt;tt&gt;MAX_ERR_NONE&lt;/tt&gt; if successful, </span>
<a name="l01538"></a>01538 <span class="comment"> *          or one of the other error codes defined in "ext_obex.h" if unsuccessful.</span>
<a name="l01539"></a>01539 <span class="comment"> *</span>
<a name="l01540"></a>01540 <span class="comment"> */</span>
<a name="l01541"></a>01541 
<a name="l01542"></a>01542 <span class="comment">// function: object_obex_quickref</span><span class="comment"></span>
<a name="l01543"></a>01543 <span class="comment">/**</span>
<a name="l01544"></a>01544 <span class="comment"> * Developers do not need to directly use the &lt;tt&gt;object_obex_quickref&lt;/tt&gt; function. However, to take advantage of a new quickref appearance, which provides support for attributes, developers should define the following method in &lt;tt&gt;main()&lt;/tt&gt;.</span>
<a name="l01545"></a>01545 <span class="comment"> *</span>
<a name="l01546"></a>01546 <span class="comment">@code</span>
<a name="l01547"></a>01547 <span class="comment">class_addmethod(c / * your object class * /, (method)object_obex_quickref, "quickref", A_CANT,0);</span>
<a name="l01548"></a>01548 <span class="comment">@endcode</span>
<a name="l01549"></a>01549 <span class="comment"> *</span>
<a name="l01550"></a>01550 <span class="comment"> */</span>
<a name="l01551"></a>01551 
<a name="l01552"></a>01552 &lt;/category&gt;
<a name="l01553"></a>01553 
</pre></div></div>
		<div id="c74footer">
			<p>Copyright &copy; 2008, <a href="http://www.cycling74.com/">Cycling '74</a></p>
		</div>
	</body>
</html>
